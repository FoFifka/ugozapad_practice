(function(t){function e(e){for(var n,r,o=e[0],c=e[1],l=e[2],u=0,p=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},4360:function(t,e,a){"use strict";var n=a("2b0e"),i=a("2f62"),s=(a("ac1f"),a("5319"),a("96cf"),a("1da1")),r=a("bc3a"),o=a.n(r),c={namespaced:!0,state:{token:null,user:null},getters:{authenticated:function(t){return t.token&&t.user},user:function(t){return t.user}},mutations:{SET_TOKEN:function(t,e){t.token=e},SET_USER:function(t,e){t.user=e}},actions:{signIn:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.dispatch,a.next=3,o.a.post("api/signin",e);case 3:i=a.sent,n("attempt",i.data.token);case 5:case"end":return a.stop()}}),a)})))()},attempt:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,n("SET_TOKEN",e),a.prev=2,a.next=5,o.a.get("api/user");case 5:i=a.sent,n("SET_USER",i.data),"/signin"===location.pathname&&location.replace("/"),a.next=15;break;case 10:a.prev=10,a.t0=a["catch"](2),n("SET_TOKEN",null),n("SET_USER",null),"/signin"!==location.pathname&&location.replace("/signin");case 15:case"end":return a.stop()}}),a,null,[[2,10]])})))()},logOut:function(t){var e=t.commit;return o()({method:"post",url:"/api/logout",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(){e("SET_TOKEN",null),e("SET_USER",null)}))}}};n["a"].use(i["a"]);e["a"]=new i["a"].Store({state:{},mutations:{},actions:{},modules:{auth:c}})},"56d7":function(t,e,a){"use strict";a.r(e);a("ac1f"),a("5319"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-main",[a("router-view")],1)],1)},s=[],r={name:"App",components:{}},o=r,c=a("2877"),l=a("6544"),d=a.n(l),u=a("7496"),p=a("f6c4"),m=Object(c["a"])(o,i,s,!1,null,null,null),v=m.exports;d()(m,{VApp:u["a"],VMain:p["a"]});a("b0c0");var _=a("8c4f"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),a("h1",{staticClass:"text-center"},[t._v("Добро пожаловать на главную страницу!")])],1)},f=[],g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("v-navigation-drawer",{staticClass:"d-flex",attrs:{app:"",right:""},scopedSlots:t._u([{key:"append",fn:function(){return[n("v-list-item",{staticClass:"grey lighten-2 rounded-t-sm",on:{click:function(e){return e.preventDefault(),t.logOut(e)}}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-exit-to-app")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Выйти")])],1)],1)]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[n("v-list-item-group",{attrs:{color:"primary"},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},[t._l(t.items,(function(e){return n("v-list-item",{key:e,attrs:{to:e.to}},[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:t._s(e.icon)}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)],1)})),n("v-list-item",{attrs:{to:"/profile"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-account-box")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Профиль")])],1)],1),t.user.permission>2?n("v-list-item",{attrs:{to:"/groups"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-format-line-spacing")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Группы")])],1)],1):t._e(),1==t.user["permission"]||t.user["permission"]>2?n("v-list-item",{attrs:{to:"/companies"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-view-list")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Компании")])],1)],1):t._e(),2==t.user["permission"]?n("v-list-item",{attrs:{to:"/company_"+t.user["companies_id"]}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-clipboard-outline")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Компания")])],1)],1):t._e(),2==t.user["permission"]||t.user["permission"]>3?n("v-list-item",{attrs:{to:"/students"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-account-multiple")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Студенты")])],1)],1):t._e(),t.user["permission"]>3?n("v-list-item",{attrs:{to:"/users"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-account-multiple")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Пользователи")])],1)],1):t._e()],2)],1)],1),n("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[n("v-toolbar-title",{attrs:{align:"center"}},[n("router-link",{attrs:{to:"/"}},[n("v-img",{attrs:{src:a("7bb7"),"max-width":"50","max-height":"50"}})],1)],1),n("v-spacer"),n("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}})],1)],1)},b=[],y=a("5530"),x=a("2f62"),V={name:"Header",props:{source:String},data:function(){return{drawer:!1,selectedItem:0,items:[{title:"Главная",icon:"mdi-home",to:"/"},{title:"О нас",icon:"mdi-account-multiple",to:"/about"}]}},computed:Object(y["a"])({},Object(x["c"])({authenticated:"auth/authenticated",user:"auth/user"})),methods:Object(y["a"])(Object(y["a"])({},Object(x["b"])({logOutAction:"auth/logOut"})),{},{logOut:function(){var t=this;this.logOutAction().then((function(){t.$router.replace({path:"/signin"})}))}}),updated:function(){}},C=V,k=a("40dc"),w=a("5bc1"),O=a("132d"),S=a("adda"),j=a("8860"),I=a("da13"),T=a("5d23"),E=a("1baa"),F=a("34c3"),H=a("f774"),L=a("2fa4"),A=a("2a7f"),B=Object(c["a"])(C,g,b,!1,null,null,null),P=B.exports;d()(B,{VAppBar:k["a"],VAppBarNavIcon:w["a"],VIcon:O["a"],VImg:S["a"],VList:j["a"],VListItem:I["a"],VListItemContent:T["a"],VListItemGroup:E["a"],VListItemIcon:F["a"],VListItemTitle:T["c"],VNavigationDrawer:H["a"],VSpacer:L["a"],VToolbarTitle:A["a"]});var R={name:"Home",components:{Header:P}},$=R,U=Object(c["a"])($,h,f,!1,null,null,null),M=U.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("Header"),a("h1",{staticClass:"text-center"},[t._v("This is an about page")])],1)},z=[],D={components:{Header:P}},N=D,K=Object(c["a"])(N,q,z,!1,null,null,null),G=K.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-main",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",{staticClass:"justify-center"},[t._v("Авторизация")]),a("v-spacer")],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"Логин",name:"login","prepend-icon":"mdi-account",type:"text"},model:{value:t.login_input,callback:function(e){t.login_input=e},expression:"login_input"}}),a("v-text-field",{attrs:{id:"password",label:"Пароль",name:"password","prepend-icon":"mdi-lock",type:"password"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.password_input,callback:function(e){t.password_input=e},expression:"password_input"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",disabled:t.disabled,loading:t.loading},on:{click:t.submit}},[t._v("Войти")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},Q=[],W=(a("96cf"),a("1da1")),X={name:"Login",data:function(){return{login_input:"",password_input:"",requestHasBeenSent:!1,token:[],loading:!1,disabled:!1,userdata:{login:"",password:""},data_has_been_sent:!1}},mounted:function(){null==this.login_input||this.password_input.length<5?this.disabled=!0:this.disabled=!1},updated:function(){this.data_has_been_sent||(null==this.login_input||this.password_input.length<5?this.disabled=!0:this.disabled=!1)},methods:Object(y["a"])(Object(y["a"])({},Object(x["b"])({signIn:"auth/signIn"})),{},{submit:function(){var t=this;return Object(W["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:!t.requestHasBeenSent&&t.password_input.length>=5&&(t.requestHasBeenSent=!0,t.userdata.login=t.login_input,t.userdata.password=t.password_input,t.data_has_been_sent=!0,t.loading=!0,t.disabled=!0,t.signIn(t.userdata).then((function(){t.loading=!1,t.$router.replace({path:"/"})})).catch((function(){t.loading=!1,t.disabled=!1,t.data_has_been_sent=!1,t.requestHasBeenSent=!1})));case 1:case"end":return e.stop()}}),e)})))()}})},Y=X,Z=a("8336"),tt=a("b0af"),et=a("99d9"),at=a("62ad"),nt=a("a523"),it=a("4bd4"),st=a("0fd9"),rt=a("8654"),ot=a("71d9"),ct=Object(c["a"])(Y,J,Q,!1,null,null,null),lt=ct.exports;d()(ct,{VApp:u["a"],VBtn:Z["a"],VCard:tt["a"],VCardActions:et["a"],VCardText:et["c"],VCol:at["a"],VContainer:nt["a"],VForm:it["a"],VMain:p["a"],VRow:st["a"],VSpacer:L["a"],VTextField:rt["a"],VToolbar:ot["a"],VToolbarTitle:A["a"]});var dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("Header"),a("v-layout",{attrs:{column:""}},[a("v-card",{staticClass:"mx-10",attrs:{outlined:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-flex",{staticClass:"wrap row"},[a("div",[a("v-list-item-avatar",{attrs:{tile:"",size:"200",color:"grey"}},[a("v-img",{attrs:{src:t.user["avatar"]}})],1),a("p",{staticClass:"text-center justify-center"},[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v(" Обновить Аватар ")])],1)],1),a("v-list-item-content",{staticStyle:{"min-width":"200px"}},[""!==t.user.name?a("v-card-text",{attrs:{label:"Имя"}},[t._v(t._s(t.user["name"])+" ")]):t._e(),""!==t.user.surname?a("v-card-text",{attrs:{label:"Фамилия"}},[t._v(t._s(t.user["surname"])+" ")]):t._e(),""!==t.user["patronymic"]?a("v-card-text",{attrs:{label:"Отчество"}},[t._v(t._s(t.user["patronymic"])+" ")]):t._e(),""!==t.user["group"]?a("v-card-text",{attrs:{label:"Группа"}},[t._v(t._s(t.user["group"])+" ")]):t._e(),""!==t.user["permission"]?a("v-card-text",{attrs:{label:"Группа"},model:{value:t.user_permission,callback:function(e){t.user_permission=e},expression:"user_permission"}},[t._v(" "+t._s(t.getPermission(t.user["permission"]))+" ")]):t._e(),""!==t.user["companies_id"]||null!==t.user["companies_id"]?a("v-card-text",{attrs:{label:"Группа"}},[t._v(" "+t._s(t.getCompany(t.user["companies_id"]))+" ")]):t._e()],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{loading:t.loading}},[a("v-card-title",{staticClass:"headline"},[t._v("Загрузить фотографию ")]),a("div",{staticClass:"text-center"},[a("input",{attrs:{type:"file",accept:"image/png, image/jpeg"},on:{change:t.onFileSelected}})]),null!=t.error?a("v-card-text",{staticClass:"red--text"},[t._v(t._s(t.error)+" ")]):t._e(),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:t.disabled},on:{click:function(e){return t.onUpload(t.user["id"])}}},[t._v(" Загрузить ")])],1)],1)],1)],1)],1)},ut=[],pt=a("bc3a"),mt=a.n(pt),vt={name:"Profile",data:function(){return{dialog:!1,selectedFile:null,requestHasBeenSent:!1,error:null,disabled:!1,loading:!1,company_name:"",user_permission:""}},components:{Header:P},computed:Object(y["a"])({},Object(x["c"])({authenticated:"auth/authenticated",user:"auth/user"})),updated:function(){this.checkSelectedFile()},methods:{checkSelectedFile:function(){null===this.selectedFile?this.disabled=!0:this.disabled=!1},onFileSelected:function(t){this.selectedFile=t.target.files[0],this.checkSelectedFile()},onUpload:function(t){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(t),e.requestHasBeenSent=!0,e.disabled=!0,e.loading=!0,n=new FormData,a.prev=5,n.append("image",e.selectedFile,e.selectedFile.name),a.next=9,mt.a.post("/api/updateuserimage",n,{params:{id:t}}).then((function(t){e.error=null,e.dialog=!1,e.loading=!1,e.user.avatar=t.data.url})).catch((function(){e.requestHasBeenSent=!1,e.disabled=!1,e.loading=!1,e.error='Изображение должно иметь расширение "jpg, png, jpeg"'}));case 9:a.next=16;break;case 11:a.prev=11,a.t0=a["catch"](5),e.selectedFile=null,e.disabled=!0,e.loading=!1;case 16:case"end":return a.stop()}}),a,null,[[5,11]])})))()},getCompany:function(t){var e=this;return mt.a.post("/api/company",{id:t}).then((function(t){e.company_name=t.data["company_name"]})),this.company_name},getPermission:function(t){var e=this;return mt.a.get("/api/getpermission",{params:{id:t}}).then((function(t){e.user_permission=t.data["permission"]})),this.user_permission}}},_t=vt,ht=a("169a"),ft=a("0e8f"),gt=a("a722"),bt=a("8270"),yt=Object(c["a"])(_t,dt,ut,!1,null,"59420f4a",null),xt=yt.exports;d()(yt,{VBtn:Z["a"],VCard:tt["a"],VCardActions:et["a"],VCardText:et["c"],VCardTitle:et["d"],VContainer:nt["a"],VDialog:ht["a"],VFlex:ft["a"],VImg:S["a"],VLayout:gt["a"],VListItem:I["a"],VListItemAvatar:bt["a"],VListItemContent:T["a"],VSpacer:L["a"]});var Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),a("h1",{staticClass:"text-center"},[t._v(t._s(t.permission=t.user.permission))])],1)},Ct=[],kt={components:{Header:P},data:function(){return{checked:!1,permission:null}},computed:Object(y["a"])({},Object(x["c"])({authenticated:"auth/authenticated",user:"auth/user"})),updated:function(){this.permission<3&&location.replace("/")}},wt=kt,Ot=Object(c["a"])(wt,Vt,Ct,!1,null,null,null),St=Ot.exports,jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("Header"),t.user["permission"]>3?a("v-btn",{on:{click:function(e){t.dialog_add_company=!0}}},[t._v("Добавить компанию")]):t._e(),a("h1",{staticClass:"text-center my-2"},[t._v("Компании с которыми у нас контракт")]),a("v-flex",{staticClass:"wrap row mx-auto justify-center",attrs:{"align-self-center":""}},t._l(t.companies,(function(e){return a("v-card",{key:e.title,staticClass:"ma-1",attrs:{width:"350",outlined:"",to:"/company_"+e["id"]}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline mb-1"},[t._v(" "+t._s(e["company_name"])+" ")]),a("v-list-item-subtitle",[t._v(t._s(e["company_description"]))])],1),a("v-list-item-avatar",{attrs:{tile:"",size:"80",color:"primary"}},[a("v-img",{attrs:{src:e["company_image"]}})],1)],1)],1)})),1),a("v-dialog",{attrs:{"max-width":"1200"},model:{value:t.dialog_add_company,callback:function(e){t.dialog_add_company=e},expression:"dialog_add_company"}},[a("v-card",{staticClass:"px-3",attrs:{loading:t.loading}},[a("v-card-title",{staticClass:"headline"},[t._v(" Добавить вакансию ")]),a("v-text-field",{attrs:{clearable:"","clear-icon":"mdi-close-circle",type:"text",label:"Название компании"},model:{value:t.addcompany_name_input,callback:function(e){t.addcompany_name_input=e},expression:"addcompany_name_input"}}),a("v-textarea",{attrs:{clearable:"","clear-icon":"mdi-close-circle",type:"text",label:"Описание"},model:{value:t.addcompany_description_input,callback:function(e){t.addcompany_description_input=e},expression:"addcompany_description_input"}}),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_add_company=!1}}},[t._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:t.disabled},on:{click:t.addCompany}},[t._v(" Добавить ")])],1)],1)],1)],1)},It=[],Tt={name:"Companies",data:function(){return{addcompany_name_input:"",addcompany_description_input:"",dialog_add_company:!1,loading:!1,disabled:!1,companies:null}},components:{Header:P},computed:Object(y["a"])({},Object(x["c"])({authenticated:"auth/authenticated",user:"auth/user"})),beforeMount:function(){var t=this;mt.a.get("/api/getcompanies").then((function(e){t.companies=e.data})).catch((function(t){console.log(t)}))},methods:{addCompany:function(){mt.a.post("/api/addcompany",{company_name:this.addcompany_name_input,company_description:this.addcompany_description_input}).then((function(){location.reload()})).catch((function(t){console.log(t)}))}}},Et=Tt,Ft=a("a844"),Ht=Object(c["a"])(Et,jt,It,!1,null,"47306c1a",null),Lt=Ht.exports;d()(Ht,{VBtn:Z["a"],VCard:tt["a"],VCardActions:et["a"],VCardTitle:et["d"],VContainer:nt["a"],VDialog:ht["a"],VFlex:ft["a"],VImg:S["a"],VListItem:I["a"],VListItemAvatar:bt["a"],VListItemContent:T["a"],VListItemSubtitle:T["b"],VListItemTitle:T["c"],VSpacer:L["a"],VTextField:rt["a"],VTextarea:Ft["a"]});var At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Header"),a("div",{staticClass:"mx-10"},[t.user["permission"]>3?a("v-btn",{on:{click:t.deleteCompany}},[t._v("Удалить компанию")]):t._e(),a("v-card",{attrs:{outlined:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("div",[a("v-list-item-avatar",{attrs:{tile:"",size:"200",color:"grey"}},[a("v-img",{attrs:{src:t.company["company_image"]}})],1)],1),a("v-list-item-content",[a("v-card-title",[t._v(t._s(t.company["company_name"]))]),a("v-card-subtitle",[t._v(t._s(t.company["company_description"]))])],1)],1),t.company["id"]==t.user["companies_id"]||t.user["permission"]>3?a("v-card-actions",[a("v-btn",{on:{click:function(e){e.stopPropagation(),t.dialog_add_vacancy=!0}}},[t._v("Добавить вакансию")])],1):t._e()],1),a("v-dialog",{attrs:{"max-width":"1200"},model:{value:t.dialog_add_vacancy,callback:function(e){t.dialog_add_vacancy=e},expression:"dialog_add_vacancy"}},[a("v-card",{staticClass:"px-3",attrs:{loading:t.loading}},[a("v-card-title",{staticClass:"headline"},[t._v(" Добавить вакансию ")]),a("v-text-field",{attrs:{clearable:"","clear-icon":"mdi-close-circle",type:"text",label:"Заголовок"},model:{value:t.addvacancy_name_input,callback:function(e){t.addvacancy_name_input=e},expression:"addvacancy_name_input"}}),a("v-textarea",{attrs:{clearable:"","clear-icon":"mdi-close-circle",type:"text",label:"Описание"},model:{value:t.addvacancy_description_input,callback:function(e){t.addvacancy_description_input=e},expression:"addvacancy_description_input"}}),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_add_vacancy=!1}}},[t._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:t.disabled},on:{click:t.addVacancy}},[t._v(" Добавить ")])],1)],1)],1),a("h2",{staticClass:"my-5"},[t._v("Вакансии")]),t._l(t.vacancies,(function(e){return a("v-card",{key:e,staticClass:"my-1",attrs:{outlined:"",to:"vacancy_"+e["id"]}},[a("v-card-title",{domProps:{textContent:t._s(e["vacancy_name"])}}),a("v-card-text",{domProps:{textContent:t._s(e["vacancy_description"])}})],1)}))],2)],1)},Bt=[],Pt={name:"Company",components:{Header:P},props:["company_id"],data:function(){return{addvacancy_name_input:"",addvacancy_description_input:"",company:null,vacancies:null,dialog_add_vacancy:!1,disabled:!1,loading:!1}},computed:Object(y["a"])({},Object(x["c"])({authenticated:"auth/authenticated",user:"auth/user"})),beforeMount:function(){var t=this;mt.a.post("/api/company",{id:this.company_id}).then((function(e){t.company=e.data,document.title=t.company["company_name"]})),mt.a.post("/api/getvacancies",{companies_id:this.company_id}).then((function(e){t.vacancies=e.data}))},methods:{addVacancy:function(){console.log(this.addvacancy_name_input+" | "+this.addvacancy_description_input+" | "+this.company_id),mt.a.post("/api/addvacancy",{vacancy_name:this.addvacancy_name_input,vacancy_description:this.addvacancy_description_input,companies_id:this.company_id}).then((function(){location.reload()})).catch((function(t){console.log(t)}))},deleteCompany:function(){mt.a.delete("/api/deletecompany",{params:{companies_id:this.company_id}}).then((function(){location.replace("/companies")}))}}},Rt=Pt,$t=Object(c["a"])(Rt,At,Bt,!1,null,"fe80ad2e",null),Ut=$t.exports;d()($t,{VApp:u["a"],VBtn:Z["a"],VCard:tt["a"],VCardActions:et["a"],VCardSubtitle:et["b"],VCardText:et["c"],VCardTitle:et["d"],VDialog:ht["a"],VImg:S["a"],VListItem:I["a"],VListItemAvatar:bt["a"],VListItemContent:T["a"],VSpacer:L["a"],VTextField:rt["a"],VTextarea:Ft["a"]});var Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Header"),a("div",{staticClass:"mx-10"},[a("v-card",[t.vacancy["companies_id"]==t.user["companies_id"]||t.user["permission"]>3?a("v-icon",{staticClass:"float-right ma-1",attrs:{color:"red"},on:{click:t.deleteVacancy}},[t._v("mdi-delete")]):t._e(),a("v-card-title",[t._v(t._s(t.vacancy["vacancy_name"]))]),a("v-card-subtitle",[t._v(t._s(t.vacancy["vacancy_description"]))])],1)],1)],1)},qt=[],zt={name:"Vacancy",components:{Header:P},props:["vacancy_id"],data:function(){return{vacancy:null,vacancies:null,disabled:!1,loading:!1}},computed:Object(y["a"])({},Object(x["c"])({authenticated:"auth/authenticated",user:"auth/user"})),beforeMount:function(){var t=this;console.log(this.vacancy_id),mt.a.post("/api/getvacancy",{id:this.vacancy_id}).then((function(e){t.vacancy=e.data,console.log(e.data)}))},methods:{deleteVacancy:function(){var t=this;mt.a.delete("/api/deletevacancy",{params:{id:this.vacancy_id}}).then((function(e){console.log(e.data),location.replace("/company_"+t.vacancy["companies_id"])}))}}},Dt=zt,Nt=Object(c["a"])(Dt,Mt,qt,!1,null,"477400ea",null),Kt=Nt.exports;d()(Nt,{VApp:u["a"],VCard:tt["a"],VCardSubtitle:et["b"],VCardTitle:et["d"],VIcon:O["a"]});var Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"mx-10"},[a("Header"),a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"justify-center"},[a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[a("v-select",{staticClass:"mr-2",attrs:{label:"Solo field",solo:"",transition:"scroll-y-transition"}}),a("v-select",{attrs:{label:"Solo field2",solo:"",transition:"scroll-y-transition"}})],1)],1),a("v-card",t._l(t.students,(function(e){return a("v-list-item",{key:e,attrs:{"three-line":""}},[a("v-list-item-avatar",{attrs:{tile:"",size:"50",color:"primary"}},[a("v-img",{attrs:{src:e["avatar"]}})],1),a("v-list-item-content",[a("span",[t._v(t._s(e["name"])+" "+t._s(e["surname"])+" "+t._s(e["patronymic"])+" "+t._s(e["group"]))])])],1)})),1)],1)],1)},Jt=[],Qt={name:"Students",data:function(){return{students:null}},components:{Header:P},computed:Object(y["a"])({},Object(x["c"])({authenticated:"auth/authenticated",user:"auth/user"})),beforeMount:function(){var t=this;mt.a.get("/api/getstudents").then((function(e){t.students=e.data}))}},Wt=Qt,Xt=a("b974"),Yt=Object(c["a"])(Wt,Gt,Jt,!1,null,"f1d8095e",null),Zt=Yt.exports;d()(Yt,{VApp:u["a"],VCard:tt["a"],VCol:at["a"],VContainer:nt["a"],VImg:S["a"],VListItem:I["a"],VListItemAvatar:bt["a"],VListItemContent:T["a"],VRow:st["a"],VSelect:Xt["a"]});var te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"mx-10"},[a("Header"),a("v-container",{attrs:{fluid:""}},[a("v-btn",{staticClass:"float-right",on:{click:function(e){t.dialog_add_user=!0}}},[t._v("Добавить пользователя")]),a("v-row",{staticClass:"justify-center"},[a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[a("v-select",{staticClass:"mr-2",attrs:{label:"Solo field",solo:"",transition:"scroll-y-transition"}}),a("v-select",{attrs:{label:"Solo field2",solo:"",transition:"scroll-y-transition"}})],1)],1),t._l(t.students,(function(e){return a("v-card",{key:e},[t.user["permission"]>3?a("v-icon",{staticClass:"float-right ma-1",attrs:{value:t.hover,color:"red"},on:{click:function(a){return t.deleteUser(e["id"])}}},[t._v("mdi-delete")]):t._e(),a("v-list-item",{attrs:{"three-line":"",to:"user_"+e["id"]}},[a("v-list-item-avatar",{attrs:{tile:"",size:"50",color:"primary"}},[a("v-img",{attrs:{src:e["avatar"]}})],1),a("v-list-item-content",[a("span",[t._v(t._s(e["name"])+" "+t._s(e["surname"])+" "+t._s(e["patronymic"])+" "+t._s(e["group"]))])])],1)],1)})),a("v-dialog",{attrs:{"max-width":"1200"},model:{value:t.dialog_add_user,callback:function(e){t.dialog_add_user=e},expression:"dialog_add_user"}},[a("v-card",{staticClass:"px-3",attrs:{loading:t.loading}},[a("v-card-title",{staticClass:"headline"},[t._v(" Добавить пользователя ")]),a("v-text-field",{attrs:{clearable:"","clear-icon":"mdi-close-circle",type:"text",label:"Логин"},model:{value:t.adduser_login_input,callback:function(e){t.adduser_login_input=e},expression:"adduser_login_input"}}),a("v-text-field",{attrs:{clearable:"","clear-icon":"mdi-close-circle",type:"text",label:"Имя"},model:{value:t.adduser_name_input,callback:function(e){t.adduser_name_input=e},expression:"adduser_name_input"}}),a("v-text-field",{attrs:{clearable:"","clear-icon":"mdi-close-circle",type:"text",label:"Фамилия"},model:{value:t.adduser_surname_input,callback:function(e){t.adduser_surname_input=e},expression:"adduser_surname_input"}}),a("v-text-field",{attrs:{clearable:"","clear-icon":"mdi-close-circle",type:"text",label:"Отчество(не обязательно)"},model:{value:t.adduser_patronymic_input,callback:function(e){t.adduser_patronymic_input=e},expression:"adduser_patronymic_input"}}),a("v-text-field",{attrs:{clearable:"","clear-icon":"mdi-close-circle",type:"text",label:"Почта(не обязательно)"},model:{value:t.adduser_email_input,callback:function(e){t.adduser_email_input=e},expression:"adduser_email_input"}}),a("v-radio-group",{attrs:{mandatory:""},model:{value:t.selected_radio,callback:function(e){t.selected_radio=e},expression:"selected_radio"}},t._l(t.permissions,(function(t){return a("v-radio",{key:t,attrs:{label:""+t["permission"],value:t}})})),1),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_add_user=!1}}},[t._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:t.disabled},on:{click:t.addUser}},[t._v(" Добавить ")])],1)],1)],1)],2)],1)},ee=[],ae={name:"Users",data:function(){return{selected_radio:null,adduser_login_input:"",adduser_name_input:"",adduser_surname_input:"",adduser_patronymic_input:"",adduser_email_input:"",adduser_group_input:"",adduser_permission_checkbox:!1,adduser_companies_input:"",dialog_add_user:!1,loading:!1,disabled:!1,students:null,hover:!1,permissions:null}},components:{Header:P},computed:Object(y["a"])({},Object(x["c"])({authenticated:"auth/authenticated",user:"auth/user"})),beforeMount:function(){var t=this;mt.a.get("/api/getusers").then((function(e){t.students=e.data})),mt.a.get("/api/getpermissions").then((function(e){t.permissions=e.data}))},methods:{deleteUser:function(t){mt.a.delete("/api/deleteuser",{params:{id:t}}).then((function(){location.reload()}))},addUser:function(){mt.a.post("/api/createuser",{login:this.adduser_login_input,name:this.adduser_name_input,surname:this.adduser_surname_input,patronymic:this.adduser_patronymic_input,password:"password",email:this.adduser_email_input,group_id:"",permission_id:this.selected_radio["id"],companies_id:""}).then((function(){location.reload()})).catch((function(t){console.log(t)}))}}},ne=ae,ie=a("67b6"),se=a("43a6"),re=Object(c["a"])(ne,te,ee,!1,null,"094b501e",null),oe=re.exports;d()(re,{VApp:u["a"],VBtn:Z["a"],VCard:tt["a"],VCardActions:et["a"],VCardTitle:et["d"],VCol:at["a"],VContainer:nt["a"],VDialog:ht["a"],VIcon:O["a"],VImg:S["a"],VListItem:I["a"],VListItemAvatar:bt["a"],VListItemContent:T["a"],VRadio:ie["a"],VRadioGroup:se["a"],VRow:st["a"],VSelect:Xt["a"],VSpacer:L["a"],VTextField:rt["a"]});var ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("Header"),a("v-layout",{attrs:{column:""}},[a("v-card",{staticClass:"mx-10",attrs:{outlined:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-flex",{staticClass:"wrap row"},[a("div",[a("v-list-item-avatar",{attrs:{tile:"",size:"200",color:"grey"}},[a("v-img",{attrs:{src:t.this_user["avatar"]}})],1),t.user["id"]==t.user_id||t.user["permission"]>3?a("p",{staticClass:"text-center justify-center"},[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v(" Обновить Аватар ")])],1):t._e()],1),a("v-list-item-content",{staticStyle:{"min-width":"200px"}},[""!==t.this_user["name"]?a("v-card-text",{attrs:{label:"Имя"}},[t._v(t._s(t.this_user["name"])+" ")]):t._e(),""!==t.this_user["surname"]?a("v-card-text",{attrs:{label:"Фамилия"}},[t._v(t._s(t.this_user["surname"])+" ")]):t._e(),""!==t.this_user["patronymic"]?a("v-card-text",{attrs:{label:"Отчество"}},[t._v(t._s(t.this_user["patronymic"])+" ")]):t._e(),""!==t.this_user["group"]?a("v-card-text",{attrs:{label:"Группа"}},[t._v(t._s(t.this_user["group"])+" ")]):t._e(),""!==t.this_user["permission"]?a("v-card-text",{attrs:{label:"Группа"}},[t._v(t._s(t.this_user["permission"])+" ")]):t._e(),""!==t.this_user["companies_id"]||null!==t.this_user["companies_id"]?a("v-card-text",{attrs:{label:"Группа"}},[t._v(" "+t._s(t.getCompany(t.this_user["companies_id"]))+" ")]):t._e()],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{loading:t.loading}},[a("v-card-title",{staticClass:"headline"},[t._v("Загрузить фотографию ")]),a("div",{staticClass:"text-center"},[a("input",{attrs:{type:"file",accept:"image/png, image/jpeg"},on:{change:t.onFileSelected}})]),null!=t.error?a("v-card-text",{staticClass:"red--text"},[t._v(t._s(t.error)+" ")]):t._e(),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:t.disabled},on:{click:t.onUpload}},[t._v(" Загрузить ")])],1)],1)],1)],1)],1)},le=[],de={name:"AnotherUserProfile",props:["user_id"],data:function(){return{this_user:null,dialog:!1,selectedFile:null,requestHasBeenSent:!1,error:null,disabled:!1,loading:!1,company_name:""}},components:{Header:P},computed:Object(y["a"])({},Object(x["c"])({authenticated:"auth/authenticated",user:"auth/user"})),beforeMount:function(){var t=this;mt.a.get("/api/getuser",{params:{id:this.user_id}}).then((function(e){t.this_user=e.data}))},updated:function(){this.checkSelectedFile()},methods:{checkUser:function(t){this.this_user},checkSelectedFile:function(){null===this.selectedFile?this.disabled=!0:this.disabled=!1},onFileSelected:function(t){this.selectedFile=t.target.files[0],this.checkSelectedFile()},onUpload:function(){var t=this;return Object(W["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.requestHasBeenSent=!0,t.disabled=!0,t.loading=!0,a=new FormData,e.prev=4,a.append("image",t.selectedFile,t.selectedFile.name),e.next=8,mt.a.post("/api/updateuserimage",a,{params:{id:t.user_id}}).then((function(e){t.error=null,t.dialog=!1,t.loading=!1,t.user.avatar=e.data.url})).catch((function(){t.requestHasBeenSent=!1,t.disabled=!1,t.loading=!1,t.error='Изображение должно иметь расширение "jpg, png, jpeg"'}));case 8:e.next=15;break;case 10:e.prev=10,e.t0=e["catch"](4),t.selectedFile=null,t.disabled=!0,t.loading=!1;case 15:case"end":return e.stop()}}),e,null,[[4,10]])})))()},getCompany:function(t){var e=this;return mt.a.post("/api/company",{id:t}).then((function(t){e.company_name=t.data["company_name"]})),this.company_name}}},ue=de,pe=Object(c["a"])(ue,ce,le,!1,null,"6a90be6a",null),me=pe.exports;d()(pe,{VBtn:Z["a"],VCard:tt["a"],VCardActions:et["a"],VCardText:et["c"],VCardTitle:et["d"],VContainer:nt["a"],VDialog:ht["a"],VFlex:ft["a"],VImg:S["a"],VLayout:gt["a"],VListItem:I["a"],VListItemAvatar:bt["a"],VListItemContent:T["a"],VSpacer:L["a"]}),n["a"].use(_["a"]);var ve=[{path:"/",component:M,name:"Главная"},{path:"/profile",name:"Профиль",component:xt},{path:"/user_:user_id",name:"Профиль",props:!0,component:me},{path:"/about",component:G,name:"О нас"},{path:"/signin",component:lt,name:"Авторизация"},{path:"/groups",component:St,name:"Группы"},{path:"/companies",component:Lt,name:"Компании"},{path:"/company_:company_id",name:"Компания",props:!0,component:Ut},{path:"/vacancy_:vacancy_id",name:"Вакансия",props:!0,component:Kt},{path:"/students",name:"Студенты",props:!0,component:Zt},{path:"/users",name:"Пользователи",props:!0,component:oe}],_e=new _["a"]({mode:"history",base:"/",routes:ve});_e.beforeEach((function(t,e,a){document.title=t.name,a()}));var he=_e,fe=a("4360"),ge=a("f309"),be=a("e1bf");n["a"].use(ge["a"]);var ye=new ge["a"]({lang:{locales:{ru:be["a"]},current:"ru"},theme:{themes:{light:{primary:"#123f91"}}}}),xe=a("2106"),Ve=a.n(xe);a("66c6"),n["a"].config.productionTip=!1,localStorage.getItem("token")?fe["a"].dispatch("auth/attempt",localStorage.getItem("token")):"/signin"!==location.pathname&&location.replace("/signin"),n["a"].use(Ve.a,mt.a),new n["a"]({router:he,store:fe["a"],vuetify:ye,render:function(t){return t(v)}}).$mount("#app")},"66c6":function(t,e,a){"use strict";a.r(e);var n=a("4360"),i=a("bc3a"),s=a.n(i);n["a"].subscribe((function(t){switch(t.type){case"auth/SET_TOKEN":t.payload?(s.a.defaults.headers.common["Authorization"]="Bearer ".concat(t.payload),localStorage.setItem("token",t.payload)):(s.a.defaults.headers.common["Authorization"]=null,localStorage.removeItem("token"));break}}))},"7bb7":function(t,e,a){t.exports=a.p+"img/uz_logo_white.723344c8.svg"}});
//# sourceMappingURL=app.4e036ef3.js.map