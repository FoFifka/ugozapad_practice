(function(e){function t(t){for(var i,r,o=t[0],c=t[1],l=t[2],u=0,p=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(i=!1)}i&&(s.splice(t--,1),e=r(r.s=a[0]))}return e}var i={},n={app:0},s=[];function r(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=i,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(a,i,function(t){return e[t]}.bind(null,i));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},4360:function(e,t,a){"use strict";var i=a("2b0e"),n=a("2f62"),s=(a("ac1f"),a("5319"),a("96cf"),a("1da1")),r=a("bc3a"),o=a.n(r),c={namespaced:!0,state:{token:null,user:null,willingPractice:null},getters:{authenticated:function(e){return e.token&&e.user},user:function(e){return e.user},willingPracticeUsers:function(e){return e.willingPractice}},mutations:{SET_TOKEN:function(e,t){e.token=t},SET_USER:function(e,t){e.user=t},SET_WILLING_PRACTICE:function(e,t){e.willingPractice=t}},actions:{signIn:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e.dispatch,a.next=3,o.a.post("api/signin",t);case 3:n=a.sent,i("attempt",n.data.token);case 5:case"end":return a.stop()}}),a)})))()},attempt:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e.commit,i("SET_TOKEN",t),a.prev=2,a.next=5,o.a.get("api/user");case 5:if(n=a.sent,i("SET_USER",n.data),null==n.data["companies_id"]){a.next=12;break}return a.next=10,o.a.get("/api/getwillingpractice",{params:{company_id:n.data["companies_id"]}});case 10:s=a.sent,i("SET_WILLING_PRACTICE",s.data);case 12:"/signin"===location.pathname&&location.replace("/"),a.next=22;break;case 15:a.prev=15,a.t0=a["catch"](2),i("SET_TOKEN",null),i("SET_USER",null),i("SET_MARK",null),i("SET_WILLING_PRACTICE",null),"/signin"!==location.pathname&&location.replace("/signin");case 22:case"end":return a.stop()}}),a,null,[[2,15]])})))()},logOut:function(e){var t=e.commit;return o()({method:"post",url:"/api/logout",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(){t("SET_TOKEN",null),t("SET_USER",null)}))}}},l={namespaced:!0,state:{companies:null},getters:{companies:function(e){return e.companies}},mutations:{SET_COMPANIES:function(e,t){e.companies=t}},actions:{getcompanies:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,o.a.get("/api/getcompanies");case 4:i=t.sent,a("SET_COMPANIES",i.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),a("SET_COMPANIES",null);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}},d=a("9ef5");i["a"].use(n["a"]);t["a"]=new n["a"].Store({state:{},mutations:{},actions:{},modules:{auth:c,companies:l,users:d["a"]}})},"56d7":function(e,t,a){"use strict";a.r(t);a("ac1f"),a("5319"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("router-view")],1)],1)},s=[],r={name:"App",components:{},updated:function(){console.clear()}},o=r,c=a("2877"),l=a("6544"),d=a.n(l),u=a("7496"),p=a("f6c4"),_=Object(c["a"])(o,n,s,!1,null,null,null),m=_.exports;d()(_,{VApp:u["a"],VMain:p["a"]});a("b0c0");var v=a("8c4f"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Header"),a("h1",{staticClass:"text-center"},[e._v("Добро пожаловать на главную страницу!")])],1)},h=[],b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[i("v-navigation-drawer",{staticClass:"d-flex",attrs:{app:"",width:"300px",temporary:"",right:""},scopedSlots:e._u([{key:"append",fn:function(){return[i("v-list-item",{staticClass:"grey lighten-2 rounded-t-sm",on:{click:function(t){return t.preventDefault(),e.logOut(t)}}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-exit-to-app")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Выйти")])],1)],1)]},proxy:!0}]),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[i("v-list",{attrs:{dense:""}},[i("v-list-item-group",{attrs:{color:"primary"},model:{value:e.selectedItem,callback:function(t){e.selectedItem=t},expression:"selectedItem"}},[e._l(e.items,(function(t){return i("v-list-item",{key:t,attrs:{to:t.to}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:e._s(t.icon)}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)],1)})),i("v-list-item",{attrs:{to:"/profile"}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-account-box")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Профиль")])],1)],1),e.user["permission_id"]>2?i("v-list-item",{attrs:{to:"/groups"}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-format-line-spacing")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Группы")])],1)],1):e._e(),i("v-list-item",{attrs:{to:"/companies"}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-view-list")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Компании")])],1)],1),2==e.user["permission_id"]?i("v-list-item",{attrs:{to:"/company_"+e.user["companies_id"]}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-clipboard-outline")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Компания")])],1)],1):e._e(),2==e.user["permission_id"]?i("v-list-item",{attrs:{to:"/whowantpractice"}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-account-multiple-outline")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Желающие пройти практику")])],1)],1):e._e(),2==e.user["permission_id"]||e.user["permission_id"]>2?i("v-list-item",{attrs:{to:"/students"}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-account-multiple")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Студенты")])],1)],1):e._e(),e.user["permission_id"]>2?i("v-list-item",{attrs:{to:"/users"}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-account-multiple")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Пользователи")])],1)],1):e._e()],2)],1)],1),i("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[i("v-toolbar-title",{attrs:{align:"center"}},[i("router-link",{staticClass:"flex",attrs:{to:"/"}},[i("v-img",{staticClass:"d-inline-block",attrs:{src:a("7bb7"),"max-width":"50","max-height":"50"}})],1)],1),i("v-spacer"),i("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}})],1)],1)},f=[],x=a("5530"),y=a("2f62"),k={name:"Header",props:{source:String},data:function(){return{drawer:!1,selectedItem:0,items:[{title:"Главная",icon:"mdi-home",to:"/"},{title:"О нас",icon:"mdi-account-multiple",to:"/about"}]}},computed:Object(x["a"])({},Object(y["c"])({authenticated:"auth/authenticated",user:"auth/user"})),methods:Object(x["a"])(Object(x["a"])({},Object(y["b"])({logOutAction:"auth/logOut"})),{},{logOut:function(){this.logOutAction().then((function(){location.replace("/signin")}))}}),updated:function(){}},w=k,C=a("40dc"),V=a("5bc1"),S=a("132d"),T=a("adda"),I=a("8860"),O=a("da13"),E=a("5d23"),j=a("1baa"),B=a("34c3"),F=a("f774"),P=a("2fa4"),R=a("2a7f"),A=Object(c["a"])(w,b,f,!1,null,null,null),U=A.exports;d()(A,{VAppBar:C["a"],VAppBarNavIcon:V["a"],VIcon:S["a"],VImg:T["a"],VList:I["a"],VListItem:O["a"],VListItemContent:E["a"],VListItemGroup:j["a"],VListItemIcon:B["a"],VListItemTitle:E["c"],VNavigationDrawer:F["a"],VSpacer:P["a"],VToolbarTitle:R["a"]});var L={name:"Home",components:{Header:U}},H=L,M=Object(c["a"])(H,g,h,!1,null,null,null),D=M.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"about"},[a("Header"),a("h1",{staticClass:"text-center"},[e._v("This is an about page")])],1)},$=[],G={components:{Header:U}},q=G,K=Object(c["a"])(q,N,$,!1,null,null,null),W=K.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-main",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",{staticClass:"justify-center"},[e._v("Авторизация")]),a("v-spacer")],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"E-mail",name:"email","prepend-icon":"mdi-account",type:"text"},model:{value:e.email_input,callback:function(t){e.email_input=t},expression:"email_input"}}),a("v-text-field",{attrs:{id:"password",label:"Пароль",name:"password","prepend-icon":"mdi-lock",type:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},model:{value:e.password_input,callback:function(t){e.password_input=t},expression:"password_input"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",disabled:e.disabled,loading:e.loading},on:{click:e.submit}},[e._v("Войти")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},J=[],Q=(a("96cf"),a("1da1")),X={name:"Login",data:function(){return{email_input:"",password_input:"",requestHasBeenSent:!1,token:[],loading:!1,disabled:!1,userdata:{login:"",password:""},data_has_been_sent:!1}},mounted:function(){null==this.email_input||this.password_input.length<5?this.disabled=!0:this.disabled=!1},updated:function(){this.data_has_been_sent||(null==this.email_input||this.password_input.length<5?this.disabled=!0:this.disabled=!1)},methods:Object(x["a"])(Object(x["a"])({},Object(y["b"])({signIn:"auth/signIn"})),{},{submit:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:!e.requestHasBeenSent&&e.password_input.length>=5&&(e.requestHasBeenSent=!0,e.userdata["email"]=e.email_input,e.userdata["password"]=e.password_input,e.data_has_been_sent=!0,e.loading=!0,e.disabled=!0,e.signIn(e.userdata).then((function(){e.loading=!1,location.replace("/")})).catch((function(){e.loading=!1,e.disabled=!1,e.data_has_been_sent=!1,e.requestHasBeenSent=!1})));case 1:case"end":return t.stop()}}),t)})))()}})},Y=X,Z=a("8336"),ee=a("b0af"),te=a("99d9"),ae=a("62ad"),ie=a("a523"),ne=a("4bd4"),se=a("0fd9"),re=a("8654"),oe=a("71d9"),ce=Object(c["a"])(Y,z,J,!1,null,null,null),le=ce.exports;d()(ce,{VApp:u["a"],VBtn:Z["a"],VCard:ee["a"],VCardActions:te["a"],VCardText:te["c"],VCol:ae["a"],VContainer:ie["a"],VForm:ne["a"],VMain:p["a"],VRow:se["a"],VSpacer:P["a"],VTextField:re["a"],VToolbar:oe["a"],VToolbarTitle:R["a"]});var de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("Header"),a("v-layout",{attrs:{column:""}},[a("v-card",{staticClass:"mx-10",attrs:{outlined:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-flex",{staticClass:"wrap row"},[a("div",[a("v-list-item-avatar",{attrs:{tile:"",size:"200",color:"grey"}},[a("v-img",{attrs:{src:e.user["avatar"]}})],1),a("p",{staticClass:"text-center justify-center"},[a("v-btn",{attrs:{color:"primary"},on:{click:function(t){t.stopPropagation(),e.dialog_change_image=!0}}},[e._v(" Обновить Аватар ")])],1)],1),a("v-list-item-content",{staticStyle:{"min-width":"200px"}},[""!==e.user.name?a("v-card-text",{attrs:{label:"Имя"}},[e._v(e._s(e.user["name"])+" ")]):e._e(),""!==e.user.surname?a("v-card-text",{attrs:{label:"Фамилия"}},[e._v(e._s(e.user["surname"])+" ")]):e._e(),null!=e.user["patronymic"]&&""!=e.user["patronymic"]?a("v-card-text",{attrs:{label:"Отчество"}},[e._v(e._s(e.user["patronymic"])+" ")]):e._e(),""!=e.user["group"]&&null!=e.user["group"]?a("v-card-text",{attrs:{label:"Группа"}},[e._v(e._s(e.user["group"])+" ")]):e._e(),""!==e.user["permission"]?a("v-card-text",{attrs:{label:"Роль"}},[e._v(" "+e._s(e.user["permission"])+" ")]):e._e(),""!==e.user["companies_id"]||null!==e.user["companies_id"]?a("v-card-text",{attrs:{label:"Компания"}},[e._v(" "+e._s(e.user["company"])+" ")]):e._e()],1)],1)],1)],1),e.user["permission_id"]<2?a("h2",{staticClass:"mx-10"},[e._v("Моя средняя оценка "),a("v-btn",{attrs:{small:""},on:{click:function(t){e.dialog_add_mark=!0}}},[a("v-icon",{attrs:{dark:""}},[e._v(e._s(null==e.user["mark_id"]?"mdi-plus-circle-outline":"mdi-pencil-circle-outline"))]),e._v(e._s(null==e.user["mark_id"]?"Указать":"Изменить"))],1)],1):e._e(),e.user["permission_id"]<2?a("p",{staticClass:"mx-10"},[e._v(e._s(null==e.user["mark"]?"Оценки пока нет":e.user["mark"]))]):e._e(),e.user["permission_id"]<2?a("h2",{staticClass:"mx-10"},[e._v("Обо мне "),null==e.user["about_me"]||e.user["permission_id"]>2?a("v-btn",{attrs:{small:""},on:{click:function(t){e.dialog_add_aboutme=!0}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-plus-circle-outline")]),e._v(" Добавить ")],1):e._e(),null!=e.user["about_me"]||e.user["permission_id"]>2?a("v-btn",{attrs:{small:""},on:{click:e.openDialogChangeAboutMe}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-pencil-circle-outline")]),e._v(" Изменить ")],1):e._e()],1):e._e(),null==e.user["about_me"]&&""==e.user["about_me"]&&e.user["permission_id"]<2?a("p",{staticClass:"mx-10"},[e._v("Вы пока ничего не написали о себе ")]):e._e(),null!=e.user["about_me"]&&""!=e.user["about_me"]?a("p",{staticClass:"mx-10",domProps:{innerHTML:e._s(e.user["about_me"].replace(/(?:\r\n|\r|\n)/g,"<br>"))}}):e._e(),a("v-dialog",{attrs:{"max-width":"600"},model:{value:e.dialog_change_image,callback:function(t){e.dialog_change_image=t},expression:"dialog_change_image"}},[a("v-card",{attrs:{loading:e.loading}},[a("v-card-title",{staticClass:"headline"},[e._v("Загрузить фотографию ")]),a("div",{staticClass:"text-center"},[a("input",{attrs:{type:"file",accept:"image/png, image/jpeg"},on:{change:e.onFileSelected}})]),null!=e.error?a("v-card-text",{staticClass:"red--text"},[e._v(e._s(e.error)+" ")]):e._e(),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog_change_image=!1}}},[e._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:e.disabled},on:{click:function(t){return e.onUpload(e.user["id"])}}},[e._v(" Загрузить ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:e.dialog_add_mark,callback:function(t){e.dialog_add_mark=t},expression:"dialog_add_mark"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(e._s(null==e.user["mark_id"]?"Указать":"Изменить")+" ")]),a("v-radio-group",{staticClass:"mx-5",attrs:{mandatory:""},model:{value:e.selected_radioButton,callback:function(t){e.selected_radioButton=t},expression:"selected_radioButton"}},e._l(e.marks,(function(e){return a("v-radio",{key:e,attrs:{label:""+e["mark"],value:e}})})),1),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog_add_mark=!1}}},[e._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.addMark}},[e._v(" Принять ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:e.dialog_add_aboutme,callback:function(t){e.dialog_add_aboutme=t},expression:"dialog_add_aboutme"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Создать резюме ")]),a("v-textarea",{staticClass:"mx-5",attrs:{label:"Напишите о себе"},model:{value:e.input_aboutme,callback:function(t){e.input_aboutme=t},expression:"input_aboutme"}}),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog_add_aboutme=!1}}},[e._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:e.btn_add_aboutme_disable},on:{click:e.addAboutMe}},[e._v(" Принять ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:e.dialog_change_aboutme,callback:function(t){e.dialog_change_aboutme=t},expression:"dialog_change_aboutme"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Изменить резюме ")]),a("v-textarea",{staticClass:"mx-5",attrs:{label:"Напишите о себе"},model:{value:e.input_aboutme,callback:function(t){e.input_aboutme=t},expression:"input_aboutme"}}),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog_change_aboutme=!1}}},[e._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:e.btn_add_aboutme_disable},on:{click:e.addAboutMe}},[e._v(" Принять ")])],1)],1)],1)],1)],1)},ue=[],pe=a("bc3a"),_e=a.n(pe),me={name:"Profile",data:function(){return{selected_radioButton:0,dialog_change_image:!1,dialog_add_mark:!1,dialog_add_aboutme:!1,dialog_change_aboutme:!1,selectedFile:null,error:null,disabled:!1,loading:!1,company_name:"",user_permission_id:"",input_aboutme:"",btn_add_aboutme_disable:!1}},components:{Header:U},computed:Object(x["a"])({},Object(y["c"])({authenticated:"auth/authenticated",user:"auth/user",marks:"users/marks"})),updated:function(){this.checkSelectedFile(),""==this.input_aboutme?this.btn_add_aboutme_disable=!0:this.btn_add_aboutme_disable=!1},methods:{checkSelectedFile:function(){null===this.selectedFile?this.disabled=!0:this.disabled=!1},onFileSelected:function(e){this.selectedFile=e.target.files[0],this.checkSelectedFile()},onUpload:function(e){var t=this;return Object(Q["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e),t.disabled=!0,t.loading=!0,i=new FormData,a.prev=4,i.append("image",t.selectedFile,t.selectedFile.name),a.next=8,_e.a.post("/api/updateuserimage",i,{params:{id:e}}).then((function(e){t.error=null,t.dialog_change_image=!1,t.loading=!1,t.user.avatar=e.data.url})).catch((function(){t.disabled=!1,t.loading=!1,t.error='Изображение должно иметь расширение "jpg, png, jpeg"'}));case 8:a.next=15;break;case 10:a.prev=10,a.t0=a["catch"](4),t.selectedFile=null,t.disabled=!0,t.loading=!1;case 15:case"end":return a.stop()}}),a,null,[[4,10]])})))()},addMark:function(){var e=this;this.selected_radioButton["id"]==this.user["mark_id"]?this.dialog_add_mark=!1:_e.a.post("/api/changemark",{id:this.user["id"],mark_id:this.selected_radioButton["id"]}).then((function(){e.user["mark_id"]=e.selected_radioButton["id"],e.user["mark"]=e.selected_radioButton["mark"],e.dialog_add_mark=!1}))},addAboutMe:function(){var e=this;this.user["about_me"]==this.input_aboutme?(this.dialog_add_aboutme=!1,this.dialog_change_aboutme=!1):_e.a.put("/api/changeuseraboutme",{id:this.user["id"],about_me:this.input_aboutme}).then((function(t){e.user["about_me"]=t.data,e.dialog_add_aboutme=!1,e.dialog_change_aboutme=!1,e.input_aboutme=""}))},openDialogChangeAboutMe:function(){this.dialog_change_aboutme=!0,this.input_aboutme=this.user["about_me"]}}},ve=me,ge=a("169a"),he=a("0e8f"),be=a("a722"),fe=a("8270"),xe=a("67b6"),ye=a("43a6"),ke=a("a844"),we=Object(c["a"])(ve,de,ue,!1,null,"7a3b666c",null),Ce=we.exports;d()(we,{VBtn:Z["a"],VCard:ee["a"],VCardActions:te["a"],VCardText:te["c"],VCardTitle:te["d"],VContainer:ie["a"],VDialog:ge["a"],VFlex:he["a"],VIcon:S["a"],VImg:T["a"],VLayout:be["a"],VListItem:O["a"],VListItemAvatar:fe["a"],VListItemContent:E["a"],VRadio:xe["a"],VRadioGroup:ye["a"],VSpacer:P["a"],VTextarea:ke["a"]});var Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("app",[a("Header"),a("v-data-table",{attrs:{headers:e.headers,items:e.groups,"items-per-page":15,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"mdi-minus",nextIcon:"mdi-plus"}},scopedSlots:e._u([{key:"item.actions",fn:function(){return[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""}},[e._v(" mdi-delete ")])]},proxy:!0}])})],1)},Se=[],Te={components:{Header:U},data:function(){return{headers:[{text:"Группа",align:"start",value:"group_name"},{text:"Действия",value:"actions",sortable:!1}],checked:!1,permission_id:null}},computed:Object(x["a"])({},Object(y["c"])({authenticated:"auth/authenticated",user:"auth/user",groups:"users/groups"}))},Ie=Te,Oe=a("8fea"),Ee=Object(c["a"])(Ie,Ve,Se,!1,null,null,null),je=Ee.exports;d()(Ee,{VDataTable:Oe["a"],VIcon:S["a"]});var Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("Header"),e.user["permission_id"]>2?a("v-btn",{on:{click:function(t){e.dialog_add_company=!0}}},[e._v("Добавить компанию")]):e._e(),a("h1",{staticClass:"text-center my-2"},[e._v("Компании с которыми у нас контракт")]),a("v-flex",{staticClass:"wrap row mx-auto justify-center",attrs:{"align-self-center":""}},e._l(e.companies,(function(t){return a("v-card",{key:t.title,staticClass:"ma-1",attrs:{width:"350",outlined:"",to:"/company_"+t["id"]}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline mb-1"},[e._v(" "+e._s(t["company_name"])+" ")]),a("v-list-item-subtitle",[e._v(e._s(t["company_description"]))])],1),a("v-list-item-avatar",{attrs:{tile:"",size:"80",color:"primary"}},[a("v-img",{attrs:{src:t["company_image"]}})],1)],1)],1)})),1),a("v-dialog",{attrs:{"max-width":"1200"},model:{value:e.dialog_add_company,callback:function(t){e.dialog_add_company=t},expression:"dialog_add_company"}},[a("v-card",{staticClass:"px-3"},[a("v-card-title",{staticClass:"headline"},[e._v(" Добавить компанию ")]),a("v-text-field",{attrs:{clearable:"","clear-icon":"mdi-close-circle",type:"text",label:"Название компании"},model:{value:e.addcompany_name_input,callback:function(t){e.addcompany_name_input=t},expression:"addcompany_name_input"}}),a("v-textarea",{attrs:{clearable:"","clear-icon":"mdi-close-circle",type:"text",label:"Описание"},model:{value:e.addcompany_description_input,callback:function(t){e.addcompany_description_input=t},expression:"addcompany_description_input"}}),a("div",{staticClass:"text-center"},[a("p",[e._v("Логотип: "),a("input",{attrs:{type:"file",accept:"image/png, image/jpeg"},on:{change:e.onFileSelected}})])]),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog_add_company=!1}}},[e._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:e.disabled},on:{click:e.addCompany}},[e._v(" Добавить ")])],1)],1)],1)],1)},Fe=[],Pe={name:"Companies",data:function(){return{request_has_been_sent:!1,addcompany_name_input:"",addcompany_description_input:"",dialog_add_company:!1,selectedFile:null,disabled:!1}},components:{Header:U},computed:Object(x["a"])({},Object(y["c"])({authenticated:"auth/authenticated",user:"auth/user",companies:"companies/companies"})),updated:function(){""!=this.addcompany_name_input&&""!=this.addcompany_description_input?this.disabled=!1:this.disabled=!0},methods:{addCompany:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.disabled=!0,a=new FormData,t.prev=2,a.append("image",e.selectedFile),null!=e.selectedFile){t.next=9;break}return t.next=7,_e.a.post("/api/addcompany",{company_name:e.addcompany_name_input,company_description:e.addcompany_description_input}).then((function(t){e.companies.push(t.data),e.dialog_add_company=!1,console.log(e.companies),console.log(t.data)})).catch((function(){e.disabled=!1}));case 7:t.next=11;break;case 9:return t.next=11,_e.a.post("/api/addcompany",a,{params:{company_name:e.addcompany_name_input,company_description:e.addcompany_description_input}}).then((function(t){e.companies.push(t.data),e.dialog_add_company=!1})).catch((function(){e.disabled=!1}));case 11:t.next=15;break;case 13:t.prev=13,t.t0=t["catch"](2);case 15:case"end":return t.stop()}}),t,null,[[2,13]])})))()},onFileSelected:function(e){this.selectedFile=e.target.files[0]}}},Re=Pe,Ae=Object(c["a"])(Re,Be,Fe,!1,null,"5b380c2d",null),Ue=Ae.exports;d()(Ae,{VBtn:Z["a"],VCard:ee["a"],VCardActions:te["a"],VCardTitle:te["d"],VContainer:ie["a"],VDialog:ge["a"],VFlex:he["a"],VImg:T["a"],VListItem:O["a"],VListItemAvatar:fe["a"],VListItemContent:E["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VSpacer:P["a"],VTextField:re["a"],VTextarea:ke["a"]});var Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("Header"),a("div",{staticClass:"mx-10"},[a("v-card",{attrs:{outlined:""}},[e.user["permission_id"]>2?a("v-btn",{staticClass:"float-right red",attrs:{small:""},on:{click:function(t){e.dialog_delete_company=!0}}},[e._v("Удалить компанию")]):e._e(),a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-action",{staticClass:"text-center"},[a("v-list-item-avatar",{attrs:{tile:"",size:"200",color:"grey"}},[a("v-img",{attrs:{src:e.company["company_image"]}})],1),e.user["permission_id"]>2?a("v-btn",{attrs:{color:"primary",small:""},on:{click:function(t){t.stopPropagation(),e.dialog_update_company_image=!0}}},[e._v(" Обновить Логотип компании ")]):e._e()],1),a("v-list-item-content",[a("v-card-title",[e._v(e._s(e.company["company_name"]))]),a("v-card-subtitle",{domProps:{innerHTML:e._s(e.company["company_description"].replace(/(?:\r\n|\r|\n)/g,"<br>"))}})],1)],1),a("v-card-actions",[e.company["id"]==e.user["companies_id"]||e.user["permission_id"]>2?a("v-btn",{on:{click:function(t){t.stopPropagation(),e.dialog_add_vacancy=!0}}},[e._v("Добавить стажировку")]):e._e(),e.user["permission_id"]<2&&0==e.this_user_yet_willing_practice?a("v-btn",{attrs:{color:"success",small:""},on:{click:e.addWillingPracticeUser}},[e._v("Хочу здесь пройти практику")]):e._e(),a("v-spacer"),e.company["id"]==e.user["companies_id"]?a("v-btn",{attrs:{color:"secondary",to:"/whowantpractice"}},[e._v("Желающие пройти практику")]):e._e()],1)],1),a("v-dialog",{attrs:{"max-width":"1200"},model:{value:e.dialog_add_vacancy,callback:function(t){e.dialog_add_vacancy=t},expression:"dialog_add_vacancy"}},[a("v-card",{staticClass:"px-3",attrs:{loading:e.loading}},[a("v-card-title",{staticClass:"headline"},[e._v(" Добавить вакансию ")]),a("v-text-field",{attrs:{clearable:"","clear-icon":"mdi-close-circle",type:"text",label:"Заголовок"},model:{value:e.addvacancy_name_input,callback:function(t){e.addvacancy_name_input=t},expression:"addvacancy_name_input"}}),a("v-textarea",{attrs:{clearable:"","clear-icon":"mdi-close-circle",type:"text",label:"Описание"},model:{value:e.addvacancy_description_input,callback:function(t){e.addvacancy_description_input=t},expression:"addvacancy_description_input"}}),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog_add_vacancy=!1}}},[e._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:e.disabled},on:{click:e.addVacancy}},[e._v(" Добавить ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:e.dialog_update_company_image,callback:function(t){e.dialog_update_company_image=t},expression:"dialog_update_company_image"}},[a("v-card",{attrs:{loading:e.loading}},[a("v-card-title",{staticClass:"headline"},[e._v("Загрузить фотографию ")]),a("div",{staticClass:"text-center"},[a("input",{attrs:{type:"file",accept:"image/png, image/jpeg"},on:{change:e.onFileSelected}})]),null!=e.error?a("v-card-text",{staticClass:"red--text"},[e._v(e._s(e.error)+" ")]):e._e(),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog_update_company_image=!1}}},[e._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:e.disabled},on:{click:function(t){return e.onUpload(e.company_id)}}},[e._v(" Загрузить ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:e.dialog_delete_company,callback:function(t){e.dialog_delete_company=t},expression:"dialog_delete_company"}},[a("v-card",{attrs:{loading:e.loading}},[a("v-card-title",{staticClass:"headline"},[e._v("Удалить компанию ")]),a("v-card-text",[e._v(" Вы действительно хотите удалить эту компанию? Вместе с компанией удалаться все пользователи(работадатели) связанные с ней ")]),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog_delete_company=!1}}},[e._v(" Отмена ")]),a("v-spacer"),a("v-btn",{staticClass:"red--text",attrs:{text:"",disabled:e.disabled},on:{click:e.deleteCompany}},[e._v(" Удалить ")])],1)],1)],1),a("h2",{staticClass:"my-5"},[e._v("Стажировки")]),e._l(e.vacancies,(function(t){return a("v-card",{key:t,staticClass:"my-1",attrs:{outlined:"",to:"vacancy_"+t["id"]}},[a("v-card-title",{domProps:{textContent:e._s(t["vacancy_name"])}}),a("v-card-text",{domProps:{textContent:e._s(t["vacancy_description"].slice(0,20)+"...")}})],1)}))],2),a("v-snackbar",{scopedSlots:e._u([{key:"action",fn:function(t){var i=t.attrs;return[a("v-btn",e._b({staticClass:"green--text",attrs:{color:"success",text:""},on:{click:function(t){e.snackbar_add_willing_practice_user=!1}}},"v-btn",i,!1),[e._v(" OK ")])]}}]),model:{value:e.snackbar_add_willing_practice_user,callback:function(t){e.snackbar_add_willing_practice_user=t},expression:"snackbar_add_willing_practice_user"}},[e._v(" Вы отправили компании информацию о себе! ")])],1)},He=[],Me={name:"Company",components:{Header:U},props:["company_id"],data:function(){return{snackbar_add_willing_practice_user:!1,addvacancy_name_input:"",addvacancy_description_input:"",selectedFile:null,company:null,vacancies:null,dialog_update_company_image:!1,dialog_add_vacancy:!1,dialog_delete_company:!1,disabled:!1,loading:!1,this_user_yet_willing_practice:1,requestHasBeenSent:!1}},computed:Object(x["a"])({},Object(y["c"])({authenticated:"auth/authenticated",user:"auth/user"})),mounted:function(){var e=this;_e.a.post("/api/company",{id:this.company_id}).then((function(t){e.company=t.data,document.title=e.company["company_name"]})),_e.a.post("/api/getvacancies",{companies_id:this.company_id}).then((function(t){e.vacancies=t.data}))},updated:function(){var e=this;this.user&&!this.requestHasBeenSent&&(this.requestHasBeenSent=!0,console.log(this.user),_e.a.get("/api/getwillingpracticeuser",{params:{user_id:this.user["id"]}}).then((function(t){console.log(t),e.this_user_yet_willing_practice=t.data})))},methods:{addVacancy:function(){console.log(this.addvacancy_name_input+" | "+this.addvacancy_description_input+" | "+this.company_id),_e.a.post("/api/addvacancy",{vacancy_name:this.addvacancy_name_input,vacancy_description:this.addvacancy_description_input,companies_id:this.company_id}).then((function(){location.reload()})).catch((function(e){console.log(e)}))},deleteCompany:function(){_e.a.delete("/api/deletecompany",{params:{companies_id:this.company_id}}).then((function(){location.replace("/companies")}))},checkSelectedFile:function(){null===this.selectedFile?this.disabled=!0:this.disabled=!1},onFileSelected:function(e){this.selectedFile=e.target.files[0],this.checkSelectedFile()},onUpload:function(e){var t=this;return Object(Q["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e),t.requestHasBeenSent=!0,t.disabled=!0,t.loading=!0,i=new FormData,a.prev=5,i.append("image",t.selectedFile,t.selectedFile.name),a.next=9,_e.a.post("/api/updatecompanyimage",i,{params:{id:e}}).then((function(e){t.company["company_image"]=e.data.url,location.reload()})).catch((function(){t.requestHasBeenSent=!1,t.disabled=!1,t.loading=!1,t.error='Изображение должно иметь расширение "jpg, png, jpeg"'}));case 9:a.next=16;break;case 11:a.prev=11,a.t0=a["catch"](5),t.selectedFile=null,t.disabled=!0,t.loading=!1;case 16:case"end":return a.stop()}}),a,null,[[5,11]])})))()},addWillingPracticeUser:function(){var e=this;_e.a.post("/api/addwillingpractice",{user_id:this.user["id"],company_id:this.company["id"]}).then((function(){e.this_user_yet_willing_practice=1,e.snackbar_add_willing_practice_user=!0}))}}},De=Me,Ne=a("1800"),$e=a("2db4"),Ge=Object(c["a"])(De,Le,He,!1,null,"95701320",null),qe=Ge.exports;d()(Ge,{VApp:u["a"],VBtn:Z["a"],VCard:ee["a"],VCardActions:te["a"],VCardSubtitle:te["b"],VCardText:te["c"],VCardTitle:te["d"],VDialog:ge["a"],VImg:T["a"],VListItem:O["a"],VListItemAction:Ne["a"],VListItemAvatar:fe["a"],VListItemContent:E["a"],VSnackbar:$e["a"],VSpacer:P["a"],VTextField:re["a"],VTextarea:ke["a"]});var Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("Header"),a("div",{staticClass:"mx-10"},[a("v-card",[e.vacancy["companies_id"]==e.user["companies_id"]||e.user["permission_id"]>2?a("v-icon",{staticClass:"float-right ma-1",attrs:{color:"red"},on:{click:e.deleteVacancy}},[e._v("mdi-delete")]):e._e(),a("v-card-title",[e._v(e._s(e.vacancy["vacancy_name"]))]),a("v-card-subtitle",{domProps:{innerHTML:e._s(e.vacancy["vacancy_description"].replace(/(?:\r\n|\r|\n)/g,"<br>"))}})],1)],1)],1)},We=[],ze={name:"Vacancy",components:{Header:U},props:["vacancy_id"],data:function(){return{vacancy:null,vacancies:null,disabled:!1,loading:!1}},computed:Object(x["a"])({},Object(y["c"])({authenticated:"auth/authenticated",user:"auth/user"})),beforeMount:function(){var e=this;_e.a.post("/api/getvacancy",{id:this.vacancy_id}).then((function(t){e.vacancy=t.data}))},methods:{deleteVacancy:function(){var e=this;_e.a.delete("/api/deletevacancy",{params:{id:this.vacancy_id}}).then((function(t){location.replace("/company_"+e.vacancy["companies_id"])}))}}},Je=ze,Qe=Object(c["a"])(Je,Ke,We,!1,null,"2a3c3304",null),Xe=Qe.exports;d()(Qe,{VApp:u["a"],VCard:ee["a"],VCardSubtitle:te["b"],VCardTitle:te["d"],VIcon:S["a"]});var Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticClass:"mx-10"},[a("Header"),a("v-container",{attrs:{fluid:""}},[a("v-data-table",{attrs:{headers:e.headers,items:e.students,"items-per-page":15,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"mdi-minus",nextIcon:"mdi-plus"}},on:{"click:row":e.goToUser}})],1)],1)},Ze=[],et={name:"Students",data:function(){return{headers:[{text:"Имя",align:"start",value:"name"},{text:"Фамилия",value:"surname"},{text:"Отчество",value:"patronymic"},{text:"Группа",value:"group"},{text:"Оценка",value:"mark"}],hover:!1}},components:{Header:U},computed:Object(x["a"])({},Object(y["c"])({authenticated:"auth/authenticated",user:"auth/user",students:"users/students"})),methods:{deleteUser:function(e){_e.a.delete("/api/deleteuser",{params:{id:e}}).then((function(){location.reload()}))},goToUser:function(e){Pt.replace("user_"+e["id"])}}},tt=et,at=Object(c["a"])(tt,Ye,Ze,!1,null,"2d2b318e",null),it=at.exports;d()(at,{VApp:u["a"],VContainer:ie["a"],VDataTable:Oe["a"]});var nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticClass:"mx-10"},[a("Header"),a("v-container",{attrs:{fluid:""}},[a("v-btn",{staticClass:"float-right",on:{click:function(t){e.dialog_add_user=!0}}},[e._v("Добавить пользователя")]),a("v-card",[a("v-data-table",{attrs:{loading:e.loading_table,"loading-text":"Loading... Please wait",headers:e.headers,items:e.users,"items-per-page":15,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"mdi-minus",nextIcon:"mdi-plus"}},on:{"click:row":e.goToUser},scopedSlots:e._u([e.this_user["permission_id"]>2?{key:"item.actions",fn:function(){return[a("v-icon",{attrs:{small:""}},[e._v(" mdi-delete ")])]},proxy:!0}:null],null,!0)})],1),a("v-dialog",{attrs:{"max-width":"1200"},model:{value:e.dialog_add_user,callback:function(t){e.dialog_add_user=t},expression:"dialog_add_user"}},[a("v-card",{staticClass:"px-3",attrs:{loading:e.loading}},[a("v-card-title",{staticClass:"headline"},[e._v(" Добавить пользователя ")]),a("v-text-field",{attrs:{"clear-icon":"mdi-close-circle",clearable:"",label:"Имя",type:"text"},model:{value:e.adduser_name_input,callback:function(t){e.adduser_name_input=t},expression:"adduser_name_input"}}),a("v-text-field",{attrs:{"clear-icon":"mdi-close-circle",clearable:"",label:"Фамилия",type:"text"},model:{value:e.adduser_surname_input,callback:function(t){e.adduser_surname_input=t},expression:"adduser_surname_input"}}),a("v-text-field",{attrs:{"clear-icon":"mdi-close-circle",clearable:"",label:"Отчество(не обязательно)",type:"text"},model:{value:e.adduser_patronymic_input,callback:function(t){e.adduser_patronymic_input=t},expression:"adduser_patronymic_input"}}),a("v-text-field",{attrs:{"clear-icon":"mdi-close-circle",clearable:"",label:"Почта",type:"text"},model:{value:e.adduser_email_input,callback:function(t){e.adduser_email_input=t},expression:"adduser_email_input"}}),a("v-radio-group",{attrs:{mandatory:""},model:{value:e.selected_radioButton_gender,callback:function(t){e.selected_radioButton_gender=t},expression:"selected_radioButton_gender"}},e._l(e.genders,(function(e){return a("v-radio",{key:e,attrs:{label:""+e["gender"],value:e}})})),1),a("v-radio-group",{attrs:{mandatory:""},model:{value:e.selected_radioButton,callback:function(t){e.selected_radioButton=t},expression:"selected_radioButton"}},e._l(e.permissions,(function(e){return a("v-radio",{key:e,attrs:{label:""+e["permission"],value:e}})})),1),2==e.selected_radioButton["id"]?a("v-list-group",{attrs:{"no-action":"","sub-group":""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[e._v("Компания")])],1)]},proxy:!0}],null,!1,33446037)},[a("v-radio-group",{attrs:{mandatory:""},model:{value:e.selected_radioButton_company,callback:function(t){e.selected_radioButton_company=t},expression:"selected_radioButton_company"}},e._l(e.companies,(function(e){return a("v-radio",{key:e,attrs:{label:""+e["company_name"],value:e}})})),1)],1):e._e(),1==e.selected_radioButton["id"]?a("v-list-group",{attrs:{"no-action":"","sub-group":""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[e._v("Группа")])],1)]},proxy:!0}],null,!1,1567989064)},[a("v-radio-group",{attrs:{mandatory:""},model:{value:e.selected_radioButton_group,callback:function(t){e.selected_radioButton_group=t},expression:"selected_radioButton_group"}},e._l(e.groups,(function(e){return a("v-radio",{key:e,attrs:{label:""+e["group_name"],value:e}})})),1)],1):e._e(),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog_add_user=!1}}},[e._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{disabled:e.disabled,loading:e.loading,color:"primary",text:""},on:{click:e.addUser}},[e._v(" Добавить ")])],1)],1)],1)],1)],1)},st=[],rt=a("4360"),ot=a("9ef5"),ct={name:"Users",data:function(){return{headers:[{text:"Имя",align:"start",value:"name"},{text:"Фамилия",value:"surname"},{text:"Отчество",value:"patronymic"},{text:"Роль",value:"permission"},{text:"Группа",value:"group"},{text:"Оценка",value:"mark"},{text:"Действия",value:"actions",sortable:!1}],selected_radioButton:0,selected_radioButton_company:0,selected_radioButton_group:0,selected_radioButton_gender:0,adduser_name_input:"",adduser_surname_input:"",adduser_patronymic_input:"",adduser_email_input:"",adduser_group_input:null,adduser_companies_input:null,dialog_add_user:!1,loading_table:!0,loading:!1,disabled:!1,hover:!1,usershasloaded:!1}},components:{Header:U},computed:Object(x["a"])({},Object(y["c"])({authenticated:"auth/authenticated",this_user:"auth/user",users:"users/users",permissions:"users/permissions",companies:"companies/companies",groups:"users/groups",genders:"users/genders"})),mounted:function(){ot["a"]&&!this.usershasloaded&&(this.usershasloaded=!0,this.loading_table=!1)},methods:{deleteUser:function(e){_e.a.delete("/api/deleteuser",{params:{id:e}}).then((function(){rt["a"].dispatch("users/getusers"),rt["a"].dispatch("auth/signIn")}))},addUser:function(){var e=this;this.disabled=!0,this.loading=!0,2==this.selected_radioButton["id"]&&(this.adduser_companies_input=this.selected_radioButton_company["id"]),1==this.selected_radioButton["id"]&&(this.adduser_group_input=this.selected_radioButton_group["id"]),_e.a.post("/api/createuser",{name:this.adduser_name_input,surname:this.adduser_surname_input,patronymic:this.adduser_patronymic_input,email:this.adduser_email_input,gender_id:this.selected_radioButton_gender["id"],group_id:this.adduser_group_input,permission_id:this.selected_radioButton["id"],companies_id:this.adduser_companies_input}).then((function(t){e.users.push(t.data),e.adduser_name_input="",e.adduser_surname_input="",e.adduser_patronymic_input="",e.adduser_email_input="",e.adduser_group_input=null,e.adduser_companies_input=null,e.dialog_add_user=!1,e.disabled=!1,e.loading=!1})).catch((function(){e.disabled=!1,e.loading=!1}))},goToUser:function(e){Pt.replace("user_"+e["id"])}}},lt=ct,dt=a("56b0"),ut=Object(c["a"])(lt,nt,st,!1,null,"357e0925",null),pt=ut.exports;d()(ut,{VApp:u["a"],VBtn:Z["a"],VCard:ee["a"],VCardActions:te["a"],VCardTitle:te["d"],VContainer:ie["a"],VDataTable:Oe["a"],VDialog:ge["a"],VIcon:S["a"],VListGroup:dt["a"],VListItemContent:E["a"],VListItemTitle:E["c"],VRadio:xe["a"],VRadioGroup:ye["a"],VSpacer:P["a"],VTextField:re["a"]});var _t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("Header"),a("v-layout",{attrs:{column:""}},[a("v-card",{staticClass:"mx-10",attrs:{outlined:""}},[e.checkWillingPracticeUsers(e.willingPracticeUsers)&&2==e.user["permission_id"]?a("span",{staticClass:"float-right ma-2"},[a("v-btn",{staticClass:"mx-10",attrs:{color:"success"}},[e._v("Принять")]),a("v-btn",{staticClass:"mx-2",attrs:{color:"red"}},[e._v("Отклонить")])],1):e._e(),a("v-list-item",{attrs:{"three-line":""}},[a("v-flex",{staticClass:"wrap row"},[a("div",[a("v-list-item-avatar",{attrs:{color:"grey",size:"200",tile:""}},[a("v-img",{attrs:{src:e.this_user["avatar"]}})],1),e.user["id"]==e.user_id||e.user["permission_id"]>2?a("p",{staticClass:"text-center justify-center"},[a("v-btn",{attrs:{color:"primary"},on:{click:function(t){t.stopPropagation(),e.dialog_change_image=!0}}},[e._v(" Обновить Аватар ")])],1):e._e()],1),a("v-list-item-content",{staticStyle:{"min-width":"200px"}},[""!==e.this_user["name"]?a("v-card-text",{attrs:{label:"Имя"}},[e._v(e._s(e.this_user["name"])+" ")]):e._e(),""!==e.this_user["surname"]?a("v-card-text",{attrs:{label:"Фамилия"}},[e._v(e._s(e.this_user["surname"])+" ")]):e._e(),null!=e.this_user["patronymic"]&&""!=e.this_user["patronymic"]?a("v-card-text",{attrs:{label:"Отчество"}},[e._v(e._s(e.this_user["patronymic"])+" ")]):e._e(),""!=e.this_user["group"]&&null!=e.this_user["group"]?a("v-card-text",{attrs:{label:"Группа"}},[e._v(e._s(e.this_user["group"])+" ")]):e._e(),""!==e.this_user["permission"]?a("v-card-text",{attrs:{label:"Группа"}},[e._v(e._s(e.this_user["permission"])+" ")]):e._e(),null!==e.this_user["companies_id"]?a("v-card-text",{attrs:{label:"Группа"}},[e._v(" "+e._s(e.this_user["company"])+" ")]):e._e()],1)],1)],1)],1),e.this_user["permission_id"]<2?a("h2",{staticClass:"mx-10"},[e._v("Моя средняя оценка "),e.user["id"]==e.user_id||e.user["permission_id"]>2?a("v-btn",{attrs:{small:""},on:{click:function(t){e.dialog_add_mark=!0}}},[a("v-icon",{attrs:{dark:""}},[e._v(" "+e._s(null==e.this_user["mark_id"]?"mdi-plus-circle-outline":"mdi-pencil-circle-outline")+" ")]),e._v(" "+e._s(null==e.this_user["mark_id"]?"Указать":"Изменить")+" ")],1):e._e()],1):e._e(),e.this_user["permission_id"]<2?a("p",{staticClass:"mx-10"},[e._v(e._s(e.this_user["mark"]))]):e._e(),e.this_user["permission_id"]<2?a("h2",{staticClass:"mx-10"},[e._v("Обо мне "),null==e.this_user["about_me"]&&(e.user["id"]==e.user_id||e.user["permission_id"]>2)?a("v-btn",{attrs:{small:""},on:{click:function(t){e.dialog_add_aboutme=!0}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-plus-circle-outline")]),e._v(" Добавить ")],1):e._e(),null!=e.this_user["about_me"]&&(e.user["id"]==e.user_id||e.user["permission_id"]>2)?a("v-btn",{attrs:{small:""},on:{click:e.openDialogChangeAboutMe}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-pencil-circle-outline")]),e._v(" Изменить ")],1):e._e()],1):e._e(),null==e.this_user["about_me"]&&""==e.this_user["about_me"]&&e.this_user["permission_id"]<2?a("p",{staticClass:"mx-10"},[e._v("Вы пока ничего не написали о себе ")]):e._e(),null!=e.this_user["about_me"]&&""!=e.this_user["about_me"]?a("p",{staticClass:"mx-10",domProps:{innerHTML:e._s(e.this_user["about_me"].replace(/(?:\r\n|\r|\n)/g,"<br>"))}}):e._e(),a("v-dialog",{attrs:{"max-width":"600"},model:{value:e.dialog_change_image,callback:function(t){e.dialog_change_image=t},expression:"dialog_change_image"}},[a("v-card",{attrs:{loading:e.loading}},[a("v-card-title",{staticClass:"headline"},[e._v("Загрузить фотографию ")]),a("div",{staticClass:"text-center"},[a("input",{attrs:{accept:"image/png, image/jpeg",type:"file"},on:{change:e.onFileSelected}})]),null!=e.error?a("v-card-text",{staticClass:"red--text"},[e._v(e._s(e.error)+" ")]):e._e(),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog_change_image=!1}}},[e._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{disabled:e.disabled,color:"primary",text:""},on:{click:e.onUpload}},[e._v(" Загрузить ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:e.dialog_add_mark,callback:function(t){e.dialog_add_mark=t},expression:"dialog_add_mark"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(e._s(null==e.this_user["mark_id"]?"Указать":"Изменить")+" среднюю оценку ")]),a("v-radio-group",{staticClass:"mx-5",attrs:{mandatory:""},model:{value:e.selected_radioButton,callback:function(t){e.selected_radioButton=t},expression:"selected_radioButton"}},e._l(e.marks,(function(e){return a("v-radio",{key:e,attrs:{label:""+e["mark"],value:e}})})),1),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog_add_mark=!1}}},[e._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.addMark}},[e._v(" Принять ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:e.dialog_add_aboutme,callback:function(t){e.dialog_add_aboutme=t},expression:"dialog_add_aboutme"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Создать резюме ")]),a("v-textarea",{staticClass:"mx-5",attrs:{label:"Напишите о себе"},model:{value:e.input_aboutme,callback:function(t){e.input_aboutme=t},expression:"input_aboutme"}}),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog_add_aboutme=!1}}},[e._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:e.btn_add_aboutme_disable},on:{click:e.addAboutMe}},[e._v(" Принять ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:e.dialog_change_aboutme,callback:function(t){e.dialog_change_aboutme=t},expression:"dialog_change_aboutme"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Изменить резюме ")]),a("v-textarea",{staticClass:"mx-5",attrs:{label:"Напишите о себе"},model:{value:e.input_aboutme,callback:function(t){e.input_aboutme=t},expression:"input_aboutme"}}),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog_change_aboutme=!1}}},[e._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:e.btn_add_aboutme_disable},on:{click:e.addAboutMe}},[e._v(" Принять ")])],1)],1)],1)],1)],1)},mt=[],vt={name:"AnotherUserProfile",props:["user_id"],data:function(){return{this_user:null,dialog_change_image:!1,dialog_add_mark:!1,dialog_add_aboutme:!1,dialog_change_aboutme:!1,selectedFile:null,requestHasBeenSent:!1,error:null,disabled:!1,btn_add_aboutme_disable:!1,loading:!1,company_name:"",selected_radioButton:0,input_aboutme:""}},components:{Header:U},computed:Object(x["a"])({},Object(y["c"])({authenticated:"auth/authenticated",user:"auth/user",marks:"users/marks",willingPracticeUsers:"auth/willingPracticeUsers"})),mounted:function(){this.getUser()},updated:function(){this.checkSelectedFile(),""==this.input_aboutme?this.btn_add_aboutme_disable=!0:this.btn_add_aboutme_disable=!1},methods:{checkWillingPracticeUsers:function(e){try{for(var t=0;t<e.length;t++){var a=e[t];if(a["id"]==this.this_user["id"])return!0}}catch(i){}return!1},getUser:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_e.a.get("/api/getuser",{params:{id:e.user_id}}).then((function(t){e.this_user=t.data,null!=e.this_user["mark_id"]&&_e.a.get("/api/getmark",{params:{id:e.this_user["mark_id"]}}).then((function(t){e.this_user["mark"]=t.data["mark"]}))}));case 2:case"end":return t.stop()}}),t)})))()},checkSelectedFile:function(){null===this.selectedFile?this.disabled=!0:this.disabled=!1},onFileSelected:function(e){this.selectedFile=e.target.files[0],this.checkSelectedFile()},onUpload:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.requestHasBeenSent=!0,e.disabled=!0,e.loading=!0,a=new FormData,t.prev=4,a.append("image",e.selectedFile,e.selectedFile.name),t.next=8,_e.a.post("/api/updateuserimage",a,{params:{id:e.user_id}}).then((function(t){e.error=null,e.dialog_change_image=!1,e.loading=!1,e.this_user.avatar=t.data.url})).catch((function(){e.requestHasBeenSent=!1,e.disabled=!1,e.loading=!1,e.error='Изображение должно иметь расширение "jpg, png, jpeg"'}));case 8:t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](4),e.selectedFile=null,e.disabled=!0,e.loading=!1;case 15:case"end":return t.stop()}}),t,null,[[4,10]])})))()},addMark:function(){var e=this;this.selected_radioButton["id"]==this.this_user["mark_id"]?this.dialog_add_mark=!1:_e.a.post("/api/changemark",{id:this.this_user["id"],mark_id:this.selected_radioButton["id"]}).then((function(){e.this_user["mark_id"]=e.selected_radioButton["id"],e.this_user["mark"]=e.selected_radioButton["mark"],e.dialog_add_mark=!1}))},addAboutMe:function(){var e=this;this.this_user["about_me"]==this.input_aboutme?(this.dialog_add_aboutme=!1,this.dialog_change_aboutme=!1):_e.a.put("/api/changeuseraboutme",{id:this.this_user["id"],about_me:this.input_aboutme}).then((function(t){e.this_user["about_me"]=t.data,e.dialog_add_aboutme=!1,e.dialog_change_aboutme=!1,e.input_aboutme=""}))},openDialogChangeAboutMe:function(){this.dialog_change_aboutme=!0,this.input_aboutme=this.this_user["about_me"]}}},gt=vt,ht=Object(c["a"])(gt,_t,mt,!1,null,"3de89db2",null),bt=ht.exports;d()(ht,{VBtn:Z["a"],VCard:ee["a"],VCardActions:te["a"],VCardText:te["c"],VCardTitle:te["d"],VContainer:ie["a"],VDialog:ge["a"],VFlex:he["a"],VIcon:S["a"],VImg:T["a"],VLayout:be["a"],VListItem:O["a"],VListItemAvatar:fe["a"],VListItemContent:E["a"],VRadio:xe["a"],VRadioGroup:ye["a"],VSpacer:P["a"],VTextarea:ke["a"]});var ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("app",[a("v-card",{staticClass:"flex row align-content-center justify-center mx-10",attrs:{height:"100vh",elevation:"0"}},[a("v-hover",{staticClass:"mx-1",scopedSlots:e._u([{key:"default",fn:function(e){var t=e.hover;return[a("router-link",{attrs:{to:"/signin"}},[a("v-img",{staticClass:"rounded-lg",attrs:{src:t?"/default_img/rabotadatel2.jpg":"/default_img/rabotadatel.jpg",width:"50vh","min-height":"50vh","max-height":"100vh"}})],1)]}}])}),a("v-hover",{staticClass:"mx-1",scopedSlots:e._u([{key:"default",fn:function(e){var t=e.hover;return[a("router-link",{attrs:{to:"/signin"}},[a("v-img",{staticClass:"rounded-lg",attrs:{src:t?"/default_img/student2.jpg":"/default_img/student.jpg",width:"50vh","min-height":"50vh","max-height":"100vh"}})],1)]}}])})],1)],1)},xt=[],yt={name:"WelcomePage"},kt=yt,wt=a("ce87"),Ct=Object(c["a"])(kt,ft,xt,!1,null,"8ca7591c",null),Vt=Ct.exports;d()(Ct,{VCard:ee["a"],VHover:wt["a"],VImg:T["a"]});var St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("Header"),a("h1",{staticClass:"text-center"},[e._v("Желающие пройти практику")]),a("v-data-table",{attrs:{headers:e.headers,items:e.willingPracticeUsers,"items-per-page":15,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"mdi-minus",nextIcon:"mdi-plus"}},on:{"click:row":e.goToUser}})],1)},Tt=[],It={name:"WhoWantPractice",data:function(){return{headers:[{text:"Имя",align:"start",value:"name"},{text:"Фамилия",value:"surname"},{text:"Отчество",value:"patronymic"},{text:"Группа",value:"group"},{text:"Оценка",value:"mark"}]}},components:{Header:U},computed:Object(x["a"])({},Object(y["c"])({authenticated:"auth/authenticated",user:"auth/user",willingPracticeUsers:"auth/willingPracticeUsers"})),methods:{goToUser:function(e){Pt.replace("user_"+e["id"])}}},Ot=It,Et=Object(c["a"])(Ot,St,Tt,!1,null,"6b306d6a",null),jt=Et.exports;d()(Et,{VApp:u["a"],VDataTable:Oe["a"]}),i["a"].use(v["a"]);var Bt=[{path:"/",component:D,name:"Главная"},{path:"/welcomepage",name:"Добро пожаловать!",component:Vt},{path:"/profile",name:"Профиль",component:Ce},{path:"/user_:user_id",name:"Профиль",props:!0,component:bt},{path:"/about",component:W,name:"О нас"},{path:"/signin",component:le,name:"Авторизация"},{path:"/groups",component:je,name:"Группы"},{path:"/companies",component:Ue,name:"Компании"},{path:"/company_:company_id",name:"Компания",props:!0,component:qe},{path:"/vacancy_:vacancy_id",name:"Вакансия",props:!0,component:Xe},{path:"/students",name:"Студенты",props:!0,component:it},{path:"/users",name:"Пользователи",props:!0,component:pt},{path:"/whowantpractice",name:"Желающие пройти практику",component:jt}],Ft=new v["a"]({mode:"history",base:"/",routes:Bt});Ft.beforeEach((function(e,t,a){document.title=e.name,a()}));var Pt=Ft,Rt=a("f309"),At=a("e1bf");i["a"].use(Rt["a"]);var Ut=new Rt["a"]({lang:{locales:{ru:At["a"]},current:"ru"},theme:{themes:{light:{primary:"#123f91",secondary:"#64B5F6"}}}}),Lt=a("2106"),Ht=a.n(Lt);a("66c6"),i["a"].config.productionTip=!1,localStorage.getItem("token")?(rt["a"].dispatch("auth/attempt",localStorage.getItem("token")),rt["a"].dispatch("companies/getcompanies"),rt["a"].dispatch("users/getusers")):"/signin"!==location.pathname&&"/welcomepage"!==location.pathname&&location.replace("/welcomepage"),i["a"].use(Ht.a,_e.a),new i["a"]({router:Pt,store:rt["a"],vuetify:Ut,render:function(e){return e(m)}}).$mount("#app")},"66c6":function(e,t,a){"use strict";a.r(t);var i=a("4360"),n=a("bc3a"),s=a.n(n);i["a"].subscribe((function(e){switch(e.type){case"auth/SET_TOKEN":e.payload?(s.a.defaults.headers.common["Authorization"]="Bearer ".concat(e.payload),localStorage.setItem("token",e.payload)):(s.a.defaults.headers.common["Authorization"]=null,localStorage.removeItem("token"));break}}))},"7bb7":function(e,t,a){e.exports=a.p+"img/uz_logo_white.723344c8.svg"},"9ef5":function(e,t,a){"use strict";a("96cf");var i=a("1da1"),n=a("bc3a"),s=a.n(n);t["a"]={namespaced:!0,state:{users:null,students:null,permissions:null,marks:null,groups:null,genders:null},getters:{users:function(e){return e.users},students:function(e){return e.students},permissions:function(e){return e.permissions},marks:function(e){return e.marks},groups:function(e){return e.groups},genders:function(e){return e.genders}},mutations:{SET_USERS:function(e,t){e.users=t},SET_STUDENTS:function(e,t){e.students=t},SET_PERMISSIONS:function(e,t){e.permissions=t},SET_MARKS:function(e,t){e.marks=t},SET_GROUPS:function(e,t){e.groups=t},SET_GENDERS:function(e,t){e.genders=t}},actions:{getusers:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i,n,r,o,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,s.a.get("/api/getusers");case 4:return i=t.sent,a("SET_USERS",i.data),t.next=8,s.a.get("/api/getstudents");case 8:return n=t.sent,a("SET_STUDENTS",n.data),t.next=12,s.a.get("/api/getpermissions");case 12:return r=t.sent,a("SET_PERMISSIONS",r.data),t.next=16,s.a.get("/api/getmarks");case 16:return o=t.sent,a("SET_MARKS",o.data),t.next=20,s.a.get("/api/getgroups");case 20:return c=t.sent,a("SET_GROUPS",c.data),t.next=24,s.a.get("/api/getgenders");case 24:l=t.sent,a("SET_GENDERS",l.data),t.next=36;break;case 28:t.prev=28,t.t0=t["catch"](1),a("SET_USERS",null),a("SET_STUDENTS",null),a("SET_PERMISSIONS",null),a("SET_MARKS",null),a("SET_GROUPS",null),a("SET_GENDERS",null);case 36:case"end":return t.stop()}}),t,null,[[1,28]])})))()}}}}});
//# sourceMappingURL=app.8c45f906.js.map