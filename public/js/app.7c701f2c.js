(function(t){function e(e){for(var i,r,o=e[0],c=e[1],l=e[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&m.push(n[r][0]),n[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={app:0},s=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},4360:function(t,e,a){"use strict";var i=a("2b0e"),n=a("2f62"),s=(a("ac1f"),a("5319"),a("96cf"),a("1da1")),r=a("bc3a"),o=a.n(r),c={namespaced:!0,state:{token:null,user:null,resumes:null},getters:{authenticated:function(t){return t.token&&t.user},user:function(t){return t.user},resumes:function(t){return t.resumes}},mutations:{SET_TOKEN:function(t,e){t.token=e},SET_USER:function(t,e){t.user=e},SET_RESUMES:function(t,e){t.resumes=e}},actions:{signIn:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.dispatch,a.next=3,o.a.post("api/signin",e);case 3:n=a.sent,i("attempt",n.data.token);case 5:case"end":return a.stop()}}),a)})))()},attempt:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.commit,i("SET_TOKEN",e),a.prev=2,a.next=5,o.a.get("api/user");case 5:return n=a.sent,i("SET_USER",n.data),a.next=9,o.a.get("/api/getresumes",{params:{id:n.data["id"]}});case 9:s=a.sent,i("SET_RESUMES",s.data),"/signin"===location.pathname&&location.replace("/"),a.next=21;break;case 14:a.prev=14,a.t0=a["catch"](2),i("SET_TOKEN",null),i("SET_USER",null),i("SET_MARK",null),i("SET_RESUMES",null),"/signin"!==location.pathname&&location.replace("/signin");case 21:case"end":return a.stop()}}),a,null,[[2,14]])})))()},logOut:function(t){var e=t.commit;return o()({method:"post",url:"/api/logout",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(){e("SET_TOKEN",null),e("SET_USER",null)}))}}},l={namespaced:!0,state:{companies:null},getters:{companies:function(t){return t.companies}},mutations:{SET_COMPANIES:function(t,e){t.companies=e}},actions:{getcompanies:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.prev=1,e.next=4,o.a.get("/api/getcompanies");case 4:i=e.sent,a("SET_COMPANIES",i.data),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),a("SET_COMPANIES",null);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}}},d={namespaced:!0,state:{users:null,students:null,permissions:null,marks:null,groups:null},getters:{users:function(t){return t.users},students:function(t){return t.students},permissions:function(t){return t.permissions},marks:function(t){return t.marks},groups:function(t){return t.groups}},mutations:{SET_USERS:function(t,e){t.users=e},SET_STUDENTS:function(t,e){t.students=e},SET_PERMISSIONS:function(t,e){t.permissions=e},SET_MARKS:function(t,e){t.marks=e},SET_GROUPS:function(t,e){t.groups=e}},actions:{getusers:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,i,n,s,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.prev=1,e.next=4,o.a.get("/api/getusers");case 4:return i=e.sent,a("SET_USERS",i.data),e.next=8,o.a.get("/api/getstudents");case 8:return n=e.sent,a("SET_STUDENTS",n.data),e.next=12,o.a.get("/api/getpermissions");case 12:return s=e.sent,a("SET_PERMISSIONS",s.data),e.next=16,o.a.get("/api/getmarks");case 16:return r=e.sent,a("SET_MARKS",r.data),e.next=20,o.a.get("/api/getgroups");case 20:c=e.sent,a("SET_GROUPS",c.data),e.next=31;break;case 24:e.prev=24,e.t0=e["catch"](1),a("SET_USERS",null),a("SET_STUDENTS",null),a("SET_PERMISSIONS",null),a("SET_MARKS",null),a("SET_GROUPS",null);case 31:case"end":return e.stop()}}),e,null,[[1,24]])})))()}}};i["a"].use(n["a"]);e["a"]=new n["a"].Store({state:{},mutations:{},actions:{},modules:{auth:c,companies:l,users:d}})},"56d7":function(t,e,a){"use strict";a.r(e);a("ac1f"),a("5319"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-main",[a("router-view")],1)],1)},s=[],r={name:"App",components:{},updated:function(){console.clear()}},o=r,c=a("2877"),l=a("6544"),d=a.n(l),u=a("7496"),m=a("f6c4"),p=Object(c["a"])(o,n,s,!1,null,null,null),_=p.exports;d()(p,{VApp:u["a"],VMain:m["a"]});a("b0c0");var v=a("8c4f"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),a("h1",{staticClass:"text-center"},[t._v("Добро пожаловать на главную страницу!")])],1)},g=[],b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("v-navigation-drawer",{staticClass:"d-flex",attrs:{app:"",temporary:"",right:""},scopedSlots:t._u([{key:"append",fn:function(){return[i("v-list-item",{staticClass:"grey lighten-2 rounded-t-sm",on:{click:function(e){return e.preventDefault(),t.logOut(e)}}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-exit-to-app")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Выйти")])],1)],1)]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[i("v-list",{attrs:{dense:""}},[i("v-list-item-group",{attrs:{color:"primary"},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},[t._l(t.items,(function(e){return i("v-list-item",{key:e,attrs:{to:e.to}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:t._s(e.icon)}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)],1)})),i("v-list-item",{attrs:{to:"/profile"}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-account-box")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Профиль")])],1)],1),t.user["permission_id"]>2?i("v-list-item",{attrs:{to:"/groups"}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-format-line-spacing")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Группы")])],1)],1):t._e(),i("v-list-item",{attrs:{to:"/companies"}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-view-list")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Компании")])],1)],1),2==t.user["permission_id"]?i("v-list-item",{attrs:{to:"/company_"+t.user["companies_id"]}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-clipboard-outline")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Компания")])],1)],1):t._e(),2==t.user["permission_id"]||t.user["permission_id"]>2?i("v-list-item",{attrs:{to:"/students"}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-account-multiple")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Студенты")])],1)],1):t._e(),t.user["permission_id"]>2?i("v-list-item",{attrs:{to:"/users"}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-account-multiple")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Пользователи")])],1)],1):t._e()],2)],1)],1),i("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[i("v-toolbar-title",{attrs:{align:"center"}},[i("router-link",{staticClass:"flex",attrs:{to:"/"}},[i("v-img",{staticClass:"d-inline-block",attrs:{src:a("7bb7"),"max-width":"50","max-height":"50"}})],1)],1),i("v-spacer"),i("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}})],1)],1)},f=[],y=a("5530"),x=a("2f62"),k={name:"Header",props:{source:String},data:function(){return{drawer:!1,selectedItem:0,items:[{title:"Главная",icon:"mdi-home",to:"/"},{title:"О нас",icon:"mdi-account-multiple",to:"/about"}]}},computed:Object(y["a"])({},Object(x["c"])({authenticated:"auth/authenticated",user:"auth/user"})),methods:Object(y["a"])(Object(y["a"])({},Object(x["b"])({logOutAction:"auth/logOut"})),{},{logOut:function(){this.logOutAction().then((function(){location.replace("/signin")}))}}),updated:function(){}},C=k,V=a("40dc"),S=a("5bc1"),w=a("132d"),j=a("adda"),O=a("8860"),T=a("da13"),E=a("5d23"),I=a("1baa"),R=a("34c3"),F=a("f774"),B=a("2fa4"),A=a("2a7f"),L=Object(c["a"])(C,b,f,!1,null,null,null),M=L.exports;d()(L,{VAppBar:V["a"],VAppBarNavIcon:S["a"],VIcon:w["a"],VImg:j["a"],VList:O["a"],VListItem:T["a"],VListItemContent:E["a"],VListItemGroup:I["a"],VListItemIcon:R["a"],VListItemTitle:E["c"],VNavigationDrawer:F["a"],VSpacer:B["a"],VToolbarTitle:A["a"]});var H={name:"Home",components:{Header:M}},P=H,U=Object(c["a"])(P,h,g,!1,null,null,null),D=U.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("Header"),a("h1",{staticClass:"text-center"},[t._v("This is an about page")])],1)},$=[],q={components:{Header:M}},z=q,K=Object(c["a"])(z,N,$,!1,null,null,null),G=K.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-main",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",{staticClass:"justify-center"},[t._v("Авторизация")]),a("v-spacer")],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"E-mail",name:"email","prepend-icon":"mdi-account",type:"text"},model:{value:t.email_input,callback:function(e){t.email_input=e},expression:"email_input"}}),a("v-text-field",{attrs:{id:"password",label:"Пароль",name:"password","prepend-icon":"mdi-lock",type:"password"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.password_input,callback:function(e){t.password_input=e},expression:"password_input"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",disabled:t.disabled,loading:t.loading},on:{click:t.submit}},[t._v("Войти")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},W=[],Q=(a("96cf"),a("1da1")),X={name:"Login",data:function(){return{email_input:"",password_input:"",requestHasBeenSent:!1,token:[],loading:!1,disabled:!1,userdata:{login:"",password:""},data_has_been_sent:!1}},mounted:function(){null==this.email_input||this.password_input.length<5?this.disabled=!0:this.disabled=!1},updated:function(){this.data_has_been_sent||(null==this.email_input||this.password_input.length<5?this.disabled=!0:this.disabled=!1)},methods:Object(y["a"])(Object(y["a"])({},Object(x["b"])({signIn:"auth/signIn"})),{},{submit:function(){var t=this;return Object(Q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:!t.requestHasBeenSent&&t.password_input.length>=5&&(t.requestHasBeenSent=!0,t.userdata["email"]=t.email_input,t.userdata["password"]=t.password_input,t.data_has_been_sent=!0,t.loading=!0,t.disabled=!0,t.signIn(t.userdata).then((function(){t.loading=!1,location.replace("/")})).catch((function(){t.loading=!1,t.disabled=!1,t.data_has_been_sent=!1,t.requestHasBeenSent=!1})));case 1:case"end":return e.stop()}}),e)})))()}})},Y=X,Z=a("8336"),tt=a("b0af"),et=a("99d9"),at=a("62ad"),it=a("a523"),nt=a("4bd4"),st=a("0fd9"),rt=a("8654"),ot=a("71d9"),ct=Object(c["a"])(Y,J,W,!1,null,null,null),lt=ct.exports;d()(ct,{VApp:u["a"],VBtn:Z["a"],VCard:tt["a"],VCardActions:et["a"],VCardText:et["c"],VCol:at["a"],VContainer:it["a"],VForm:nt["a"],VMain:m["a"],VRow:st["a"],VSpacer:B["a"],VTextField:rt["a"],VToolbar:ot["a"],VToolbarTitle:A["a"]});var dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("Header"),a("v-layout",{attrs:{column:""}},[a("v-card",{staticClass:"mx-10",attrs:{outlined:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-flex",{staticClass:"wrap row"},[a("div",[a("v-list-item-avatar",{attrs:{tile:"",size:"200",color:"grey"}},[a("v-img",{attrs:{src:t.user["avatar"]}})],1),a("p",{staticClass:"text-center justify-center"},[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){e.stopPropagation(),t.dialog_change_image=!0}}},[t._v(" Обновить Аватар ")])],1)],1),a("v-list-item-content",{staticStyle:{"min-width":"200px"}},[""!==t.user.name?a("v-card-text",{attrs:{label:"Имя"}},[t._v(t._s(t.user["name"])+" ")]):t._e(),""!==t.user.surname?a("v-card-text",{attrs:{label:"Фамилия"}},[t._v(t._s(t.user["surname"])+" ")]):t._e(),null!=t.user["patronymic"]&&""!=t.user["patronymic"]?a("v-card-text",{attrs:{label:"Отчество"}},[t._v(t._s(t.user["patronymic"])+" ")]):t._e(),""!=t.user["group"]&&null!=t.user["group"]?a("v-card-text",{attrs:{label:"Группа"}},[t._v(t._s(t.user["group"])+" ")]):t._e(),""!==t.user["permission"]?a("v-card-text",{attrs:{label:"Роль"}},[t._v(" "+t._s(t.user["permission"])+" ")]):t._e(),""!==t.user["companies_id"]||null!==t.user["companies_id"]?a("v-card-text",{attrs:{label:"Компания"}},[t._v(" "+t._s(t.user["company"])+" ")]):t._e()],1)],1)],1)],1),t.user["permission_id"]<2?a("h2",{staticClass:"mx-10"},[t._v("Моя средняя оценка "),a("v-btn",{attrs:{small:""},on:{click:function(e){t.dialog_add_mark=!0}}},[a("v-icon",{attrs:{dark:""}},[t._v(t._s(null==t.user["mark_id"]?"mdi-plus-circle-outline":"mdi-pencil-circle-outline"))]),t._v(t._s(null==t.user["mark_id"]?"Указать":"Изменить"))],1)],1):t._e(),t.user["permission_id"]<2?a("p",{staticClass:"mx-10"},[t._v(t._s(null==t.user["mark"]?"Оценки пока нет":t.user["mark"]))]):t._e(),t.user["permission_id"]<2?a("h2",{staticClass:"mx-10"},[t._v("Обо мне "),null==t.user["about_me"]||t.user["permission_id"]>2?a("v-btn",{attrs:{small:""},on:{click:function(e){t.dialog_add_aboutme=!0}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-plus-circle-outline")]),t._v(" Добавить ")],1):t._e(),null!=t.user["about_me"]||t.user["permission_id"]>2?a("v-btn",{attrs:{small:""},on:{click:t.openDialogChangeAboutMe}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-pencil-circle-outline")]),t._v(" Изменить ")],1):t._e()],1):t._e(),null==t.user["about_me"]&&""==t.user["about_me"]&&t.user["permission_id"]<2?a("p",{staticClass:"mx-10"},[t._v("Вы пока ничего не написали о себе ")]):t._e(),null!=t.user["about_me"]&&""!=t.user["about_me"]?a("p",{staticClass:"mx-10",domProps:{innerHTML:t._s(t.user["about_me"].replace(/(?:\r\n|\r|\n)/g,"<br>"))}}):t._e(),t._l(t.resumes,(function(e){return a("v-card",{key:e,staticClass:"mx-10 mb-2"},[a("v-card-subtitle",[t._v(t._s(e["about_me"]))])],1)})),a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog_change_image,callback:function(e){t.dialog_change_image=e},expression:"dialog_change_image"}},[a("v-card",{attrs:{loading:t.loading}},[a("v-card-title",{staticClass:"headline"},[t._v("Загрузить фотографию ")]),a("div",{staticClass:"text-center"},[a("input",{attrs:{type:"file",accept:"image/png, image/jpeg"},on:{change:t.onFileSelected}})]),null!=t.error?a("v-card-text",{staticClass:"red--text"},[t._v(t._s(t.error)+" ")]):t._e(),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_change_image=!1}}},[t._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:t.disabled},on:{click:function(e){return t.onUpload(t.user["id"])}}},[t._v(" Загрузить ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog_add_mark,callback:function(e){t.dialog_add_mark=e},expression:"dialog_add_mark"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(null==t.user["mark_id"]?"Указать":"Изменить")+" ")]),a("v-radio-group",{staticClass:"mx-5",attrs:{mandatory:""},model:{value:t.selected_radioButton,callback:function(e){t.selected_radioButton=e},expression:"selected_radioButton"}},t._l(t.marks,(function(t){return a("v-radio",{key:t,attrs:{label:""+t["mark"],value:t}})})),1),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_add_mark=!1}}},[t._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.addMark}},[t._v(" Принять ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog_add_aboutme,callback:function(e){t.dialog_add_aboutme=e},expression:"dialog_add_aboutme"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Создать резюме ")]),a("v-textarea",{staticClass:"mx-5",attrs:{label:"Напишите о себе"},model:{value:t.input_aboutme,callback:function(e){t.input_aboutme=e},expression:"input_aboutme"}}),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_add_aboutme=!1}}},[t._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:t.btn_add_aboutme_disable},on:{click:t.addAboutMe}},[t._v(" Принять ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog_change_aboutme,callback:function(e){t.dialog_change_aboutme=e},expression:"dialog_change_aboutme"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Изменить резюме ")]),a("v-textarea",{staticClass:"mx-5",attrs:{label:"Напишите о себе"},model:{value:t.input_aboutme,callback:function(e){t.input_aboutme=e},expression:"input_aboutme"}}),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_change_aboutme=!1}}},[t._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:t.btn_add_aboutme_disable},on:{click:t.addAboutMe}},[t._v(" Принять ")])],1)],1)],1)],2)],1)},ut=[],mt=a("bc3a"),pt=a.n(mt),_t={name:"Profile",data:function(){return{selected_radioButton:0,dialog_change_image:!1,dialog_add_mark:!1,dialog_add_aboutme:!1,dialog_change_aboutme:!1,selectedFile:null,error:null,disabled:!1,loading:!1,company_name:"",user_permission_id:"",input_aboutme:"",btn_add_aboutme_disable:!1}},components:{Header:M},computed:Object(y["a"])({},Object(x["c"])({authenticated:"auth/authenticated",user:"auth/user",marks:"users/marks",resumes:"auth/resumes"})),updated:function(){this.checkSelectedFile(),""==this.input_aboutme?this.btn_add_aboutme_disable=!0:this.btn_add_aboutme_disable=!1},methods:{checkSelectedFile:function(){null===this.selectedFile?this.disabled=!0:this.disabled=!1},onFileSelected:function(t){this.selectedFile=t.target.files[0],this.checkSelectedFile()},onUpload:function(t){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(t),e.disabled=!0,e.loading=!0,i=new FormData,a.prev=4,i.append("image",e.selectedFile,e.selectedFile.name),a.next=8,pt.a.post("/api/updateuserimage",i,{params:{id:t}}).then((function(t){e.error=null,e.dialog_change_image=!1,e.loading=!1,e.user.avatar=t.data.url})).catch((function(){e.disabled=!1,e.loading=!1,e.error='Изображение должно иметь расширение "jpg, png, jpeg"'}));case 8:a.next=15;break;case 10:a.prev=10,a.t0=a["catch"](4),e.selectedFile=null,e.disabled=!0,e.loading=!1;case 15:case"end":return a.stop()}}),a,null,[[4,10]])})))()},addMark:function(){var t=this;this.selected_radioButton["id"]==this.user["mark_id"]?this.dialog_add_mark=!1:pt.a.post("/api/changemark",{id:this.user["id"],mark_id:this.selected_radioButton["id"]}).then((function(){t.user["mark_id"]=t.selected_radioButton["id"],t.user["mark"]=t.selected_radioButton["mark"],t.dialog_add_mark=!1}))},addAboutMe:function(){var t=this;this.user["about_me"]==this.input_aboutme?(this.dialog_add_aboutme=!1,this.dialog_change_aboutme=!1):pt.a.put("/api/changeuseraboutme",{id:this.user["id"],about_me:this.input_aboutme}).then((function(e){t.user["about_me"]=e.data,t.dialog_add_aboutme=!1,t.dialog_change_aboutme=!1,t.input_aboutme=""}))},openDialogChangeAboutMe:function(){this.dialog_change_aboutme=!0,this.input_aboutme=this.user["about_me"]}}},vt=_t,ht=a("169a"),gt=a("0e8f"),bt=a("a722"),ft=a("8270"),yt=a("67b6"),xt=a("43a6"),kt=a("a844"),Ct=Object(c["a"])(vt,dt,ut,!1,null,"28ab571e",null),Vt=Ct.exports;d()(Ct,{VBtn:Z["a"],VCard:tt["a"],VCardActions:et["a"],VCardSubtitle:et["b"],VCardText:et["c"],VCardTitle:et["d"],VContainer:it["a"],VDialog:ht["a"],VFlex:gt["a"],VIcon:w["a"],VImg:j["a"],VLayout:bt["a"],VListItem:T["a"],VListItemAvatar:ft["a"],VListItemContent:E["a"],VRadio:yt["a"],VRadioGroup:xt["a"],VSpacer:B["a"],VTextarea:kt["a"]});var St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app",[a("Header"),t.groups?t._e():a("v-container",{staticStyle:{height:"400px"}},[a("v-row",{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[a("v-col",{staticClass:"subtitle-1 text-center",attrs:{cols:"12"}},[t._v(" Пожалуйста подождите, идёт загрузка пользователей ")]),a("v-col",{attrs:{cols:"6"}},[a("v-progress-linear",{attrs:{color:"primary accent-4",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1),t._l(t.groups,(function(e){return a("v-card",{key:e},[a("v-card-title",[t._v(t._s(e["group_name"]))])],1)}))],2)},wt=[],jt={components:{Header:M},data:function(){return{checked:!1,permission_id:null}},computed:Object(y["a"])({},Object(x["c"])({authenticated:"auth/authenticated",user:"auth/user",groups:"users/groups"}))},Ot=jt,Tt=a("8e36"),Et=Object(c["a"])(Ot,St,wt,!1,null,null,null),It=Et.exports;d()(Et,{VCard:tt["a"],VCardTitle:et["d"],VCol:at["a"],VContainer:it["a"],VProgressLinear:Tt["a"],VRow:st["a"]});var Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("Header"),t.user["permission_id"]>2?a("v-btn",{on:{click:function(e){t.dialog_add_company=!0}}},[t._v("Добавить компанию")]):t._e(),a("h1",{staticClass:"text-center my-2"},[t._v("Компании с которыми у нас контракт")]),a("v-flex",{staticClass:"wrap row mx-auto justify-center",attrs:{"align-self-center":""}},t._l(t.companies,(function(e){return a("v-card",{key:e.title,staticClass:"ma-1",attrs:{width:"350",outlined:"",to:"/company_"+e["id"]}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline mb-1"},[t._v(" "+t._s(e["company_name"])+" ")]),a("v-list-item-subtitle",[t._v(t._s(e["company_description"]))])],1),a("v-list-item-avatar",{attrs:{tile:"",size:"80",color:"primary"}},[a("v-img",{attrs:{src:e["company_image"]}})],1)],1)],1)})),1),a("v-dialog",{attrs:{"max-width":"1200"},model:{value:t.dialog_add_company,callback:function(e){t.dialog_add_company=e},expression:"dialog_add_company"}},[a("v-card",{staticClass:"px-3"},[a("v-card-title",{staticClass:"headline"},[t._v(" Добавить компанию ")]),a("v-text-field",{attrs:{clearable:"","clear-icon":"mdi-close-circle",type:"text",label:"Название компании"},model:{value:t.addcompany_name_input,callback:function(e){t.addcompany_name_input=e},expression:"addcompany_name_input"}}),a("v-textarea",{attrs:{clearable:"","clear-icon":"mdi-close-circle",type:"text",label:"Описание"},model:{value:t.addcompany_description_input,callback:function(e){t.addcompany_description_input=e},expression:"addcompany_description_input"}}),a("div",{staticClass:"text-center"},[a("p",[t._v("Логотип: "),a("input",{attrs:{type:"file",accept:"image/png, image/jpeg"},on:{change:t.onFileSelected}})])]),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_add_company=!1}}},[t._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:t.disabled},on:{click:t.addCompany}},[t._v(" Добавить ")])],1)],1)],1)],1)},Ft=[],Bt={name:"Companies",data:function(){return{request_has_been_sent:!1,addcompany_name_input:"",addcompany_description_input:"",dialog_add_company:!1,selectedFile:null,disabled:!1}},components:{Header:M},computed:Object(y["a"])({},Object(x["c"])({authenticated:"auth/authenticated",user:"auth/user",companies:"companies/companies"})),updated:function(){""!=this.addcompany_name_input&&""!=this.addcompany_description_input?this.disabled=!1:this.disabled=!0},methods:{addCompany:function(){var t=this;return Object(Q["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.disabled=!0,a=new FormData,e.prev=2,a.append("image",t.selectedFile),null!=t.selectedFile){e.next=9;break}return e.next=7,pt.a.post("/api/addcompany",{company_name:t.addcompany_name_input,company_description:t.addcompany_description_input}).then((function(e){t.companies.push(e.data),t.dialog_add_company=!1,console.log(t.companies),console.log(e.data)})).catch((function(){t.disabled=!1}));case 7:e.next=11;break;case 9:return e.next=11,pt.a.post("/api/addcompany",a,{params:{company_name:t.addcompany_name_input,company_description:t.addcompany_description_input}}).then((function(e){t.companies.push(e.data),t.dialog_add_company=!1})).catch((function(){t.disabled=!1}));case 11:e.next=15;break;case 13:e.prev=13,e.t0=e["catch"](2);case 15:case"end":return e.stop()}}),e,null,[[2,13]])})))()},onFileSelected:function(t){this.selectedFile=t.target.files[0]}}},At=Bt,Lt=Object(c["a"])(At,Rt,Ft,!1,null,"5b380c2d",null),Mt=Lt.exports;d()(Lt,{VBtn:Z["a"],VCard:tt["a"],VCardActions:et["a"],VCardTitle:et["d"],VContainer:it["a"],VDialog:ht["a"],VFlex:gt["a"],VImg:j["a"],VListItem:T["a"],VListItemAvatar:ft["a"],VListItemContent:E["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VSpacer:B["a"],VTextField:rt["a"],VTextarea:kt["a"]});var Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Header"),a("div",{staticClass:"mx-10"},[a("v-card",{attrs:{outlined:""}},[t.user["permission_id"]>2?a("v-btn",{staticClass:"float-right red",attrs:{small:""},on:{click:function(e){t.dialog_delete_company=!0}}},[t._v("Удалить компанию")]):t._e(),a("v-list-item",{attrs:{"three-line":""}},[a("div",[a("v-list-item-avatar",{attrs:{tile:"",size:"200",color:"grey"}},[a("v-img",{attrs:{src:t.company["company_image"]}})],1),t.user["permission_id"]>2?a("p",{staticClass:"text-center justify-center"},[a("v-btn",{attrs:{color:"primary",small:""},on:{click:function(e){e.stopPropagation(),t.dialog_update_company_image=!0}}},[t._v(" Обновить Логотип компании ")])],1):t._e()],1),a("v-list-item-content",[a("v-card-title",[t._v(t._s(t.company["company_name"]))]),a("v-card-subtitle",{domProps:{innerHTML:t._s(t.company["company_description"].replace(/(?:\r\n|\r|\n)/g,"<br>"))}})],1)],1),t.company["id"]==t.user["companies_id"]||t.user["permission_id"]>2?a("v-card-actions",[a("v-btn",{on:{click:function(e){e.stopPropagation(),t.dialog_add_vacancy=!0}}},[t._v("Добавить стажировку")])],1):t._e()],1),a("v-dialog",{attrs:{"max-width":"1200"},model:{value:t.dialog_add_vacancy,callback:function(e){t.dialog_add_vacancy=e},expression:"dialog_add_vacancy"}},[a("v-card",{staticClass:"px-3",attrs:{loading:t.loading}},[a("v-card-title",{staticClass:"headline"},[t._v(" Добавить вакансию ")]),a("v-text-field",{attrs:{clearable:"","clear-icon":"mdi-close-circle",type:"text",label:"Заголовок"},model:{value:t.addvacancy_name_input,callback:function(e){t.addvacancy_name_input=e},expression:"addvacancy_name_input"}}),a("v-textarea",{attrs:{clearable:"","clear-icon":"mdi-close-circle",type:"text",label:"Описание"},model:{value:t.addvacancy_description_input,callback:function(e){t.addvacancy_description_input=e},expression:"addvacancy_description_input"}}),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_add_vacancy=!1}}},[t._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:t.disabled},on:{click:t.addVacancy}},[t._v(" Добавить ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog_update_company_image,callback:function(e){t.dialog_update_company_image=e},expression:"dialog_update_company_image"}},[a("v-card",{attrs:{loading:t.loading}},[a("v-card-title",{staticClass:"headline"},[t._v("Загрузить фотографию ")]),a("div",{staticClass:"text-center"},[a("input",{attrs:{type:"file",accept:"image/png, image/jpeg"},on:{change:t.onFileSelected}})]),null!=t.error?a("v-card-text",{staticClass:"red--text"},[t._v(t._s(t.error)+" ")]):t._e(),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_update_company_image=!1}}},[t._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:t.disabled},on:{click:function(e){return t.onUpload(t.company_id)}}},[t._v(" Загрузить ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog_delete_company,callback:function(e){t.dialog_delete_company=e},expression:"dialog_delete_company"}},[a("v-card",{attrs:{loading:t.loading}},[a("v-card-title",{staticClass:"headline"},[t._v("Удалить компанию ")]),a("v-card-text",[t._v(" Вы действительно хотите удалить эту компанию? Вместе с компанией удалаться все пользователи(работадатели) связанные с ней ")]),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_delete_company=!1}}},[t._v(" Отмена ")]),a("v-spacer"),a("v-btn",{staticClass:"red--text",attrs:{text:"",disabled:t.disabled},on:{click:t.deleteCompany}},[t._v(" Удалить ")])],1)],1)],1),a("h2",{staticClass:"my-5"},[t._v("Стажировки")]),t._l(t.vacancies,(function(e){return a("v-card",{key:e,staticClass:"my-1",attrs:{outlined:"",to:"vacancy_"+e["id"]}},[a("v-card-title",{domProps:{textContent:t._s(e["vacancy_name"])}}),a("v-card-text",{domProps:{textContent:t._s(e["vacancy_description"])}})],1)}))],2)],1)},Pt=[],Ut={name:"Company",components:{Header:M},props:["company_id"],data:function(){return{addvacancy_name_input:"",addvacancy_description_input:"",selectedFile:null,company:null,vacancies:null,dialog_update_company_image:!1,dialog_add_vacancy:!1,dialog_delete_company:!1,disabled:!1,loading:!1}},computed:Object(y["a"])({},Object(x["c"])({authenticated:"auth/authenticated",user:"auth/user"})),mounted:function(){var t=this;pt.a.post("/api/company",{id:this.company_id}).then((function(e){t.company=e.data,document.title=t.company["company_name"]})),pt.a.post("/api/getvacancies",{companies_id:this.company_id}).then((function(e){t.vacancies=e.data}))},methods:{addVacancy:function(){console.log(this.addvacancy_name_input+" | "+this.addvacancy_description_input+" | "+this.company_id),pt.a.post("/api/addvacancy",{vacancy_name:this.addvacancy_name_input,vacancy_description:this.addvacancy_description_input,companies_id:this.company_id}).then((function(){location.reload()})).catch((function(t){console.log(t)}))},deleteCompany:function(){pt.a.delete("/api/deletecompany",{params:{companies_id:this.company_id}}).then((function(){location.replace("/companies")}))},checkSelectedFile:function(){null===this.selectedFile?this.disabled=!0:this.disabled=!1},onFileSelected:function(t){this.selectedFile=t.target.files[0],this.checkSelectedFile()},onUpload:function(t){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(t),e.requestHasBeenSent=!0,e.disabled=!0,e.loading=!0,i=new FormData,a.prev=5,i.append("image",e.selectedFile,e.selectedFile.name),a.next=9,pt.a.post("/api/updatecompanyimage",i,{params:{id:t}}).then((function(t){e.company["company_image"]=t.data.url,location.reload()})).catch((function(){e.requestHasBeenSent=!1,e.disabled=!1,e.loading=!1,e.error='Изображение должно иметь расширение "jpg, png, jpeg"'}));case 9:a.next=16;break;case 11:a.prev=11,a.t0=a["catch"](5),e.selectedFile=null,e.disabled=!0,e.loading=!1;case 16:case"end":return a.stop()}}),a,null,[[5,11]])})))()}}},Dt=Ut,Nt=Object(c["a"])(Dt,Ht,Pt,!1,null,"50c9cfd8",null),$t=Nt.exports;d()(Nt,{VApp:u["a"],VBtn:Z["a"],VCard:tt["a"],VCardActions:et["a"],VCardSubtitle:et["b"],VCardText:et["c"],VCardTitle:et["d"],VDialog:ht["a"],VImg:j["a"],VListItem:T["a"],VListItemAvatar:ft["a"],VListItemContent:E["a"],VSpacer:B["a"],VTextField:rt["a"],VTextarea:kt["a"]});var qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Header"),a("div",{staticClass:"mx-10"},[a("v-card",[t.vacancy["companies_id"]==t.user["companies_id"]||t.user["permission_id"]>2?a("v-icon",{staticClass:"float-right ma-1",attrs:{color:"red"},on:{click:t.deleteVacancy}},[t._v("mdi-delete")]):t._e(),a("v-card-title",[t._v(t._s(t.vacancy["vacancy_name"]))]),a("v-card-subtitle",{domProps:{innerHTML:t._s(t.vacancy["vacancy_description"].replace(/(?:\r\n|\r|\n)/g,"<br>"))}})],1)],1)],1)},zt=[],Kt={name:"Vacancy",components:{Header:M},props:["vacancy_id"],data:function(){return{vacancy:null,vacancies:null,disabled:!1,loading:!1}},computed:Object(y["a"])({},Object(x["c"])({authenticated:"auth/authenticated",user:"auth/user"})),beforeMount:function(){var t=this;console.log(this.vacancy_id),pt.a.post("/api/getvacancy",{id:this.vacancy_id}).then((function(e){t.vacancy=e.data,console.log(e.data)}))},methods:{deleteVacancy:function(){var t=this;pt.a.delete("/api/deletevacancy",{params:{id:this.vacancy_id}}).then((function(e){console.log(e.data),location.replace("/company_"+t.vacancy["companies_id"])}))}}},Gt=Kt,Jt=Object(c["a"])(Gt,qt,zt,!1,null,"59629ee8",null),Wt=Jt.exports;d()(Jt,{VApp:u["a"],VCard:tt["a"],VCardSubtitle:et["b"],VCardTitle:et["d"],VIcon:w["a"]});var Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"mx-10"},[a("Header"),a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"justify-center"},[a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[a("v-select",{staticClass:"mr-2",attrs:{label:"Solo field",solo:"",transition:"scroll-y-transition"}}),a("v-select",{attrs:{label:"Solo field2",solo:"",transition:"scroll-y-transition"}})],1)],1),t.students?t._e():a("v-container",{staticStyle:{height:"400px"}},[a("v-row",{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[a("v-col",{staticClass:"subtitle-1 text-center",attrs:{cols:"12"}},[t._v(" Пожалуйста подождите, идёт загрузка студентов ")]),a("v-col",{attrs:{cols:"6"}},[a("v-progress-linear",{attrs:{color:"primary accent-4",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1),t._l(t.students,(function(e){return a("v-card",{key:e},[t.user["permission_id"]>2?a("v-icon",{staticClass:"float-right ma-1",attrs:{value:t.hover,color:"red"},on:{click:function(a){return t.deleteUser(e["id"])}}},[t._v("mdi-delete")]):t._e(),a("v-list-item",{attrs:{"three-line":"",to:"user_"+e["id"]}},[a("v-list-item-avatar",{attrs:{tile:"",size:"50",color:"primary"}},[a("v-img",{attrs:{src:e["avatar"]}})],1),a("v-list-item-content",[a("span",[t._v(t._s(e["name"])+" "+t._s(e["surname"])+" "+t._s(e["patronymic"])+" "+t._s(e["group"]))])])],1)],1)}))],2)],1)},Xt=[],Yt={name:"Students",data:function(){return{hover:!1}},components:{Header:M},computed:Object(y["a"])({},Object(x["c"])({authenticated:"auth/authenticated",user:"auth/user",students:"users/students"})),methods:{deleteUser:function(t){pt.a.delete("/api/deleteuser",{params:{id:t}}).then((function(){location.reload()}))}}},Zt=Yt,te=a("b974"),ee=Object(c["a"])(Zt,Qt,Xt,!1,null,"3626506c",null),ae=ee.exports;d()(ee,{VApp:u["a"],VCard:tt["a"],VCol:at["a"],VContainer:it["a"],VIcon:w["a"],VImg:j["a"],VListItem:T["a"],VListItemAvatar:ft["a"],VListItemContent:E["a"],VProgressLinear:Tt["a"],VRow:st["a"],VSelect:te["a"]});var ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"mx-10"},[a("Header"),a("v-container",{attrs:{fluid:""}},[a("v-btn",{staticClass:"float-right",on:{click:function(e){t.dialog_add_user=!0}}},[t._v("Добавить пользователя")]),a("v-row",{staticClass:"justify-center"},[a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[a("v-select",{staticClass:"mr-2",attrs:{label:"Solo field",solo:"",transition:"scroll-y-transition"}}),a("v-select",{attrs:{label:"Solo field2",solo:"",transition:"scroll-y-transition"}})],1)],1),t.users?t._e():a("v-container",{staticStyle:{height:"400px"}},[a("v-row",{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[a("v-col",{staticClass:"subtitle-1 text-center",attrs:{cols:"12"}},[t._v(" Пожалуйста подождите, идёт загрузка пользователей ")]),a("v-col",{attrs:{cols:"6"}},[a("v-progress-linear",{attrs:{color:"primary accent-4",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1),t._l(t.users,(function(e){return a("v-card",{key:e},[t.this_user["permission_id"]>2?a("v-icon",{staticClass:"float-right ma-1",attrs:{value:t.hover,color:"red"},on:{click:function(a){return t.deleteUser(e["id"])}}},[t._v("mdi-delete ")]):t._e(),a("v-list-item",{attrs:{to:"user_"+e["id"],"three-line":""}},[a("v-list-item-avatar",{attrs:{color:"primary",size:"50",tile:""}},[a("v-img",{attrs:{src:e["avatar"]}})],1),a("v-list-item-content",[a("span",[t._v(t._s(e["name"])+" "+t._s(e["surname"])+" "+t._s(e["patronymic"])+" "+t._s(e["group"]))])])],1)],1)})),a("v-dialog",{attrs:{"max-width":"1200"},model:{value:t.dialog_add_user,callback:function(e){t.dialog_add_user=e},expression:"dialog_add_user"}},[a("v-card",{staticClass:"px-3",attrs:{loading:t.loading}},[a("v-card-title",{staticClass:"headline"},[t._v(" Добавить пользователя ")]),a("v-text-field",{attrs:{"clear-icon":"mdi-close-circle",clearable:"",label:"Имя",type:"text"},model:{value:t.adduser_name_input,callback:function(e){t.adduser_name_input=e},expression:"adduser_name_input"}}),a("v-text-field",{attrs:{"clear-icon":"mdi-close-circle",clearable:"",label:"Фамилия",type:"text"},model:{value:t.adduser_surname_input,callback:function(e){t.adduser_surname_input=e},expression:"adduser_surname_input"}}),a("v-text-field",{attrs:{"clear-icon":"mdi-close-circle",clearable:"",label:"Отчество(не обязательно)",type:"text"},model:{value:t.adduser_patronymic_input,callback:function(e){t.adduser_patronymic_input=e},expression:"adduser_patronymic_input"}}),a("v-text-field",{attrs:{"clear-icon":"mdi-close-circle",clearable:"",label:"Почта",type:"text"},model:{value:t.adduser_email_input,callback:function(e){t.adduser_email_input=e},expression:"adduser_email_input"}}),a("v-radio-group",{attrs:{mandatory:""},model:{value:t.selected_radioButton,callback:function(e){t.selected_radioButton=e},expression:"selected_radioButton"}},t._l(t.permissions,(function(t){return a("v-radio",{key:t,attrs:{label:""+t["permission"],value:t}})})),1),2==t.selected_radioButton["id"]?a("v-list-group",{attrs:{"no-action":"","sub-group":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[t._v("Компания")])],1)]},proxy:!0}],null,!1,33446037)},[a("v-radio-group",{attrs:{mandatory:""},model:{value:t.selected_radioButton_company,callback:function(e){t.selected_radioButton_company=e},expression:"selected_radioButton_company"}},t._l(t.companies,(function(t){return a("v-radio",{key:t,attrs:{label:""+t["company_name"],value:t}})})),1)],1):t._e(),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_add_user=!1}}},[t._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{disabled:t.disabled,loading:t.loading,color:"primary",text:""},on:{click:t.addUser}},[t._v(" Добавить ")])],1)],1)],1)],2)],1)},ne=[],se=a("4360"),re={name:"Users",data:function(){return{selected_radioButton:0,selected_radioButton_company:null,adduser_name_input:"",adduser_surname_input:"",adduser_patronymic_input:"",adduser_email_input:"",adduser_group_input:"",adduser_companies_input:"",dialog_add_user:!1,loading:!1,disabled:!1,hover:!1}},components:{Header:M},computed:Object(y["a"])({},Object(x["c"])({authenticated:"auth/authenticated",this_user:"auth/user",users:"users/users",permissions:"users/permissions",companies:"companies/companies"})),methods:{deleteUser:function(t){pt.a.delete("/api/deleteuser",{params:{id:t}}).then((function(){se["a"].dispatch("users/getusers"),se["a"].dispatch("auth/signIn")}))},addUser:function(){var t=this;this.disabled=!0,this.loading=!0,2==this.selected_radioButton["id"]&&(this.adduser_companies_input=this.selected_radioButton_company["id"]),pt.a.post("/api/createuser",{name:this.adduser_name_input,surname:this.adduser_surname_input,patronymic:this.adduser_patronymic_input,email:this.adduser_email_input,group_id:this.adduser_group_input="",permission_id:this.selected_radioButton["id"],companies_id:this.adduser_companies_input}).then((function(e){t.users.push(e.data),t.adduser_name_input="",t.adduser_surname_input="",t.adduser_patronymic_input="",t.adduser_email_input="",t.adduser_group_input="",t.adduser_companies_input=null,t.dialog_add_user=!1,t.disabled=!1,t.loading=!1}))}}},oe=re,ce=a("56b0"),le=Object(c["a"])(oe,ie,ne,!1,null,"4db4fdf9",null),de=le.exports;d()(le,{VApp:u["a"],VBtn:Z["a"],VCard:tt["a"],VCardActions:et["a"],VCardTitle:et["d"],VCol:at["a"],VContainer:it["a"],VDialog:ht["a"],VIcon:w["a"],VImg:j["a"],VListGroup:ce["a"],VListItem:T["a"],VListItemAvatar:ft["a"],VListItemContent:E["a"],VListItemTitle:E["c"],VProgressLinear:Tt["a"],VRadio:yt["a"],VRadioGroup:xt["a"],VRow:st["a"],VSelect:te["a"],VSpacer:B["a"],VTextField:rt["a"]});var ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("Header"),a("v-layout",{attrs:{column:""}},[a("v-card",{staticClass:"mx-10",attrs:{outlined:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-flex",{staticClass:"wrap row"},[a("div",[a("v-list-item-avatar",{attrs:{color:"grey",size:"200",tile:""}},[a("v-img",{attrs:{src:t.this_user["avatar"]}})],1),t.user["id"]==t.user_id||t.user["permission_id"]>2?a("p",{staticClass:"text-center justify-center"},[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){e.stopPropagation(),t.dialog_change_image=!0}}},[t._v(" Обновить Аватар ")])],1):t._e()],1),a("v-list-item-content",{staticStyle:{"min-width":"200px"}},[""!==t.this_user["name"]?a("v-card-text",{attrs:{label:"Имя"}},[t._v(t._s(t.this_user["name"])+" ")]):t._e(),""!==t.this_user["surname"]?a("v-card-text",{attrs:{label:"Фамилия"}},[t._v(t._s(t.this_user["surname"])+" ")]):t._e(),null!=t.this_user["patronymic"]&&""!=t.this_user["patronymic"]?a("v-card-text",{attrs:{label:"Отчество"}},[t._v(t._s(t.this_user["patronymic"])+" ")]):t._e(),""!=t.this_user["group"]&&null!=t.this_user["group"]?a("v-card-text",{attrs:{label:"Группа"}},[t._v(t._s(t.this_user["group"])+" ")]):t._e(),""!==t.this_user["permission"]?a("v-card-text",{attrs:{label:"Группа"}},[t._v(t._s(t.this_user["permission"])+" ")]):t._e(),null!==t.this_user["companies_id"]?a("v-card-text",{attrs:{label:"Группа"}},[t._v(" "+t._s(t.this_user["company"])+" ")]):t._e()],1)],1)],1)],1),t.this_user["permission_id"]<2?a("h2",{staticClass:"mx-10"},[t._v("Моя средняя оценка "),t.user["id"]==t.user_id||t.user["permission_id"]>2?a("v-btn",{attrs:{small:""},on:{click:function(e){t.dialog_add_mark=!0}}},[a("v-icon",{attrs:{dark:""}},[t._v(" "+t._s(null==t.this_user["mark_id"]?"mdi-plus-circle-outline":"mdi-pencil-circle-outline")+" ")]),t._v(" "+t._s(null==t.this_user["mark_id"]?"Указать":"Изменить")+" ")],1):t._e()],1):t._e(),t.this_user["permission_id"]<2?a("p",{staticClass:"mx-10"},[t._v(t._s(t.this_user["mark"]))]):t._e(),t.this_user["permission_id"]<2?a("h2",{staticClass:"mx-10"},[t._v("Обо мне "),null==t.this_user["about_me"]&&(t.user["id"]==t.user_id||t.user["permission_id"]>2)?a("v-btn",{attrs:{small:""},on:{click:function(e){t.dialog_add_aboutme=!0}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-plus-circle-outline")]),t._v(" Добавить ")],1):t._e(),null!=t.this_user["about_me"]&&(t.user["id"]==t.user_id||t.user["permission_id"]>2)?a("v-btn",{attrs:{small:""},on:{click:t.openDialogChangeAboutMe}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-pencil-circle-outline")]),t._v(" Изменить ")],1):t._e()],1):t._e(),null==t.this_user["about_me"]&&""==t.this_user["about_me"]&&t.this_user["permission_id"]<2?a("p",{staticClass:"mx-10"},[t._v("Вы пока ничего не написали о себе ")]):t._e(),null!=t.this_user["about_me"]&&""!=t.this_user["about_me"]?a("p",{staticClass:"mx-10",domProps:{innerHTML:t._s(t.this_user["about_me"].replace(/(?:\r\n|\r|\n)/g,"<br>"))}}):t._e(),a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog_change_image,callback:function(e){t.dialog_change_image=e},expression:"dialog_change_image"}},[a("v-card",{attrs:{loading:t.loading}},[a("v-card-title",{staticClass:"headline"},[t._v("Загрузить фотографию ")]),a("div",{staticClass:"text-center"},[a("input",{attrs:{accept:"image/png, image/jpeg",type:"file"},on:{change:t.onFileSelected}})]),null!=t.error?a("v-card-text",{staticClass:"red--text"},[t._v(t._s(t.error)+" ")]):t._e(),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_change_image=!1}}},[t._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{disabled:t.disabled,color:"primary",text:""},on:{click:t.onUpload}},[t._v(" Загрузить ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog_add_mark,callback:function(e){t.dialog_add_mark=e},expression:"dialog_add_mark"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(null==t.this_user["mark_id"]?"Указать":"Изменить")+" среднюю оценку ")]),a("v-radio-group",{staticClass:"mx-5",attrs:{mandatory:""},model:{value:t.selected_radioButton,callback:function(e){t.selected_radioButton=e},expression:"selected_radioButton"}},t._l(t.marks,(function(t){return a("v-radio",{key:t,attrs:{label:""+t["mark"],value:t}})})),1),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_add_mark=!1}}},[t._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.addMark}},[t._v(" Принять ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog_add_aboutme,callback:function(e){t.dialog_add_aboutme=e},expression:"dialog_add_aboutme"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Создать резюме ")]),a("v-textarea",{staticClass:"mx-5",attrs:{label:"Напишите о себе"},model:{value:t.input_aboutme,callback:function(e){t.input_aboutme=e},expression:"input_aboutme"}}),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_add_aboutme=!1}}},[t._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:t.btn_add_aboutme_disable},on:{click:t.addAboutMe}},[t._v(" Принять ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog_change_aboutme,callback:function(e){t.dialog_change_aboutme=e},expression:"dialog_change_aboutme"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Изменить резюме ")]),a("v-textarea",{staticClass:"mx-5",attrs:{label:"Напишите о себе"},model:{value:t.input_aboutme,callback:function(e){t.input_aboutme=e},expression:"input_aboutme"}}),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_change_aboutme=!1}}},[t._v(" Отмена ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:t.btn_add_aboutme_disable},on:{click:t.addAboutMe}},[t._v(" Принять ")])],1)],1)],1)],1)],1)},me=[],pe={name:"AnotherUserProfile",props:["user_id"],data:function(){return{this_user:null,dialog_change_image:!1,dialog_add_mark:!1,dialog_add_aboutme:!1,dialog_change_aboutme:!1,selectedFile:null,requestHasBeenSent:!1,error:null,disabled:!1,btn_add_aboutme_disable:!1,loading:!1,company_name:"",selected_radioButton:0,input_aboutme:""}},components:{Header:M},computed:Object(y["a"])({},Object(x["c"])({authenticated:"auth/authenticated",user:"auth/user",marks:"users/marks"})),mounted:function(){this.getUser()},updated:function(){this.checkSelectedFile(),""==this.input_aboutme?this.btn_add_aboutme_disable=!0:this.btn_add_aboutme_disable=!1},methods:{getUser:function(){var t=this;return Object(Q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pt.a.get("/api/getuser",{params:{id:t.user_id}}).then((function(e){t.this_user=e.data,null!=t.this_user["mark_id"]&&pt.a.get("/api/getmark",{params:{id:t.this_user["mark_id"]}}).then((function(e){t.this_user["mark"]=e.data["mark"]}))}));case 2:case"end":return e.stop()}}),e)})))()},checkSelectedFile:function(){null===this.selectedFile?this.disabled=!0:this.disabled=!1},onFileSelected:function(t){this.selectedFile=t.target.files[0],this.checkSelectedFile()},onUpload:function(){var t=this;return Object(Q["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.requestHasBeenSent=!0,t.disabled=!0,t.loading=!0,a=new FormData,e.prev=4,a.append("image",t.selectedFile,t.selectedFile.name),e.next=8,pt.a.post("/api/updateuserimage",a,{params:{id:t.user_id}}).then((function(e){t.error=null,t.dialog_change_image=!1,t.loading=!1,t.this_user.avatar=e.data.url})).catch((function(){t.requestHasBeenSent=!1,t.disabled=!1,t.loading=!1,t.error='Изображение должно иметь расширение "jpg, png, jpeg"'}));case 8:e.next=15;break;case 10:e.prev=10,e.t0=e["catch"](4),t.selectedFile=null,t.disabled=!0,t.loading=!1;case 15:case"end":return e.stop()}}),e,null,[[4,10]])})))()},addMark:function(){var t=this;this.selected_radioButton["id"]==this.this_user["mark_id"]?this.dialog_add_mark=!1:pt.a.post("/api/changemark",{id:this.this_user["id"],mark_id:this.selected_radioButton["id"]}).then((function(){t.this_user["mark_id"]=t.selected_radioButton["id"],t.this_user["mark"]=t.selected_radioButton["mark"],t.dialog_add_mark=!1}))},addAboutMe:function(){var t=this;this.this_user["about_me"]==this.input_aboutme?(this.dialog_add_aboutme=!1,this.dialog_change_aboutme=!1):pt.a.put("/api/changeuseraboutme",{id:this.this_user["id"],about_me:this.input_aboutme}).then((function(e){t.this_user["about_me"]=e.data,t.dialog_add_aboutme=!1,t.dialog_change_aboutme=!1,t.input_aboutme=""}))},deleteResume:function(){pt.a.delete("/api/deleteresume",{}).then()},openDialogChangeAboutMe:function(){this.dialog_change_aboutme=!0,this.input_aboutme=this.this_user["about_me"]}}},_e=pe,ve=Object(c["a"])(_e,ue,me,!1,null,"6773acf1",null),he=ve.exports;d()(ve,{VBtn:Z["a"],VCard:tt["a"],VCardActions:et["a"],VCardText:et["c"],VCardTitle:et["d"],VContainer:it["a"],VDialog:ht["a"],VFlex:gt["a"],VIcon:w["a"],VImg:j["a"],VLayout:bt["a"],VListItem:T["a"],VListItemAvatar:ft["a"],VListItemContent:E["a"],VRadio:yt["a"],VRadioGroup:xt["a"],VSpacer:B["a"],VTextarea:kt["a"]});var ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app",[a("v-card",{staticClass:"flex row align-content-center justify-center mx-10",attrs:{height:"100vh",elevation:"0"}},[a("v-hover",{staticClass:"mx-1",scopedSlots:t._u([{key:"default",fn:function(t){var e=t.hover;return[a("router-link",{attrs:{to:"/signin"}},[a("v-img",{staticClass:"rounded-lg",attrs:{src:e?"/default_img/rabotadatel2.jpg":"/default_img/rabotadatel.jpg",width:"50vh","min-height":"50vh","max-height":"100vh"}})],1)]}}])}),a("v-hover",{staticClass:"mx-1",scopedSlots:t._u([{key:"default",fn:function(t){var e=t.hover;return[a("router-link",{attrs:{to:"/signin"}},[a("v-img",{staticClass:"rounded-lg",attrs:{src:e?"/default_img/student2.jpg":"/default_img/student.jpg",width:"50vh","min-height":"50vh","max-height":"100vh"}})],1)]}}])})],1)],1)},be=[],fe={name:"WelcomePage"},ye=fe,xe=a("ce87"),ke=Object(c["a"])(ye,ge,be,!1,null,"8ca7591c",null),Ce=ke.exports;d()(ke,{VCard:tt["a"],VHover:xe["a"],VImg:j["a"]}),i["a"].use(v["a"]);var Ve=[{path:"/",component:D,name:"Главная"},{path:"/welcomepage",name:"Добро пожаловать!",component:Ce},{path:"/profile",name:"Профиль",component:Vt},{path:"/user_:user_id",name:"Профиль",props:!0,component:he},{path:"/about",component:G,name:"О нас"},{path:"/signin",component:lt,name:"Авторизация"},{path:"/groups",component:It,name:"Группы"},{path:"/companies",component:Mt,name:"Компании"},{path:"/company_:company_id",name:"Компания",props:!0,component:$t},{path:"/vacancy_:vacancy_id",name:"Вакансия",props:!0,component:Wt},{path:"/students",name:"Студенты",props:!0,component:ae},{path:"/users",name:"Пользователи",props:!0,component:de}],Se=new v["a"]({mode:"history",base:"/",routes:Ve});Se.beforeEach((function(t,e,a){document.title=t.name,a()}));var we=Se,je=a("f309"),Oe=a("e1bf");i["a"].use(je["a"]);var Te=new je["a"]({lang:{locales:{ru:Oe["a"]},current:"ru"},theme:{themes:{light:{primary:"#123f91"}}}}),Ee=a("2106"),Ie=a.n(Ee);a("66c6"),i["a"].config.productionTip=!1,localStorage.getItem("token")?(se["a"].dispatch("auth/attempt",localStorage.getItem("token")),se["a"].dispatch("companies/getcompanies"),se["a"].dispatch("users/getusers")):"/signin"!==location.pathname&&"/welcomepage"!==location.pathname&&location.replace("/welcomepage"),i["a"].use(Ie.a,pt.a),new i["a"]({router:we,store:se["a"],vuetify:Te,render:function(t){return t(_)}}).$mount("#app")},"66c6":function(t,e,a){"use strict";a.r(e);var i=a("4360"),n=a("bc3a"),s=a.n(n);i["a"].subscribe((function(t){switch(t.type){case"auth/SET_TOKEN":t.payload?(s.a.defaults.headers.common["Authorization"]="Bearer ".concat(t.payload),localStorage.setItem("token",t.payload)):(s.a.defaults.headers.common["Authorization"]=null,localStorage.removeItem("token"));break}}))},"7bb7":function(t,e,a){t.exports=a.p+"img/uz_logo_white.723344c8.svg"}});
//# sourceMappingURL=app.7c701f2c.js.map